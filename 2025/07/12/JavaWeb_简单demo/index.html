<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>JavaWeb_ç®€å•demo | Welcome,here is Mogu's Blog</title><meta name="author" content="Mogu"><meta name="copyright" content="Mogu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="å®Œæ•´ï¼ˆæ¯”è¾ƒï¼‰ä¸‰å±‚+ossæœåŠ¡">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb_ç®€å•demo">
<meta property="og:url" content="https://szymogu.github.io/2025/07/12/JavaWeb_%E7%AE%80%E5%8D%95demo/index.html">
<meta property="og:site_name" content="Welcome,here is Mogu&#39;s Blog">
<meta property="og:description" content="å®Œæ•´ï¼ˆæ¯”è¾ƒï¼‰ä¸‰å±‚+ossæœåŠ¡">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://szymogu.github.io/pic/default_cover/424358.png">
<meta property="article:published_time" content="2025-07-12T03:03:38.000Z">
<meta property="article:modified_time" content="2025-07-12T03:18:41.615Z">
<meta property="article:author" content="Mogu">
<meta property="article:tag" content="Webåç«¯">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://szymogu.github.io/pic/default_cover/424358.png"><link rel="shortcut icon" href="/pic/logo.png"><link rel="canonical" href="https://szymogu.github.io/2025/07/12/JavaWeb_%E7%AE%80%E5%8D%95demo/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://chinese-fonts-cdn.deno.dev/packages/jnjj/dist/JUNJUN/result.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#87cefa","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaWeb_ç®€å•demo',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-07-12 11:18:41'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/card-bg.css"><link rel="stylesheet" href="/css/neon.css"><link rel="stylesheet" href="/css/page-header.css"><link rel="stylesheet" href="/css/page-footer.css"><meta name="generator" content="Hexo 7.2.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="/css/corner-indicator.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/touxiang.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">51</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">17</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a></li><li><a class="site-page child" href="/Java_Page/"><i class="fa-fw fas"></i><span> Test1</span></a></li><li><a class="site-page child" href="/Hexo_Page/"><i class="fa-fw fas"></i><span> Test2</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/pic/default_cover/424358.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Welcome,here is Mogu's Blog"><span class="site-name">Welcome,here is Mogu's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a></li><li><a class="site-page child" href="/Java_Page/"><i class="fa-fw fas"></i><span> Test1</span></a></li><li><a class="site-page child" href="/Hexo_Page/"><i class="fa-fw fas"></i><span> Test2</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaWeb_ç®€å•demo</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-07-12T03:03:38.000Z" title="Created 2025-07-12 11:03:38">2025-07-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-07-12T03:18:41.615Z" title="Updated 2025-07-12 11:18:41">2025-07-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E5%90%8E%E7%AB%AF/">Webåç«¯</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaWeb_ç®€å•demo"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>åœ¨å®Œæˆåç«¯é¡¹ç›®çš„å­¦ä¹ åï¼Œæ¥å®Œæˆä¸€ä¸ªdemoå§</p>
<p>æ ¹æ®å¼€å‘æ–‡æ¡£ï¼Œå‰ç«¯é¡µé¢å·²ç»å®Œæˆäº†ï¼Œç°åœ¨éœ€è¦å®Œæˆåç«¯é¡¹ç›®ï¼Œä»»åŠ¡åˆ†ä¸ºä¸‰å—</p>
<ul>
<li><p>æ¥æ”¶å‰ç«¯è¯·æ±‚</p>
</li>
<li><p>å®Œæˆé€»è¾‘</p>
</li>
<li><p>ä¸æ•°æ®åº“äº¤äº’</p>
</li>
</ul>
<p>è€Œè¿™ä¸‰å—ä»»åŠ¡æ°å¥½å¯¹åº”webåç«¯çš„ä¸‰å±‚æ¶æ„</p>
<p>æ§åˆ¶å±‚Controller</p>
<p>é€»è¾‘å±‚Service</p>
<p>æŒä¹…å±‚Mapper</p>
<p>åˆ›å»ºSpringBooté¡¹ç›®ï¼Œæ·»åŠ ä¾èµ–</p>
<ul>
<li>SpringWeb</li>
<li>MySQL Driver</li>
<li>Mybatis Framework</li>
<li>Lombok</li>
</ul>
<p>åˆ›å»ºå››ä¸ªåŒ…ï¼Œå¯¹åº”ä¸‰å±‚æ¶æ„å’Œä¸€äº›æ™®é€šç±»</p>
<p>æ­¤å¤–ï¼Œè¿ç”¨é¢å‘æ¥å£ç¼–ç¨‹æ€æƒ³ï¼Œå…ˆæŠ½è±¡å‡ºç±»çš„åŠŸèƒ½ï¼Œå†å®Œæˆä»–çš„å„ç§å®ç°æ–¹å¼</p>
<p>ç”±äºæˆ‘æ€»æ˜¯å¿˜è®°ä¸åŒå±‚çš„æ³¨è§£,è¿™é‡Œå†è´´ä¸€éå§ğŸ˜£(è¯¦è§åˆ†å±‚è§£è€¦)</p>
<p>ä¸‰ä¸ªComponentçš„è¡ç”Ÿæ³¨è§£</p>
<ul>
<li><p>Controller æ ‡æ³¨æ§åˆ¶å™¨ç±»</p>
</li>
<li><p>Service æ ‡æ³¨é€»è¾‘ç±»</p>
</li>
<li><p>Repository æ ‡æ³¨æ•°æ®è®¿é—®ç±»</p>
</li>
</ul>
<p>ä»Controllerå±‚å¼€å§‹å§</p>
<h2 id="æŸ¥"><a href="#æŸ¥" class="headerlink" title="æŸ¥"></a>æŸ¥</h2><p>æ ¹æ®éœ€æ±‚ï¼Œéœ€è¦<strong>æŸ¥è¯¢</strong>æ‰€æœ‰éƒ¨é—¨ä¿¡æ¯ï¼Œåˆ†æéœ€æ±‚ï¼š</p>
<p>å‰ç«¯å‘é€è¯·æ±‚ï¼Œè·¯å¾„ä¸º&#x2F;deptsï¼ŒControllerå±‚è¦æ·»åŠ è¿™ä¸ªè·¯å¾„çš„å¤„ç†æ–¹æ³•</p>
<p>å®ŒæˆæŸ¥è¯¢æ‰€æœ‰éƒ¨é—¨çš„é€»è¾‘ï¼Œç”±Controllerè°ƒç”¨é€»è¾‘å±‚å¯¹åº”æ–¹æ³•å¤„ç†éœ€æ±‚</p>
<p>ç”±äºéœ€è¦ä½¿ç”¨æ•°æ®åº“æ•°æ®ï¼Œé€»è¾‘å±‚è¦è°ƒç”¨æŒä¹…å±‚ï¼ŒæŒä¹…å±‚å®Œæˆä¸æ•°æ®åº“çš„äº¤äº’ï¼Œå¹¶å°†æ•°æ®è¿”å›</p>
<p>DeptController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span><span class="comment">//æ—¥å¿—æ³¨è§£</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    DeptService deptService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/depts&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">ListDept</span><span class="params">()</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;æŸ¥è¯¢å…¨éƒ¨éƒ¨é—¨æ•°æ®&quot;</span>);</span><br><span class="line">        List&lt;Dept&gt; list = deptService.listDept();</span><br><span class="line">        <span class="keyword">return</span> Result.success(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæœ‰ä¸€äº›è¦ç‚¹ï¼š</p>
<ul>
<li><p>Slf4jï¼šè¿™æ˜¯lombokæä¾›çš„å…³äºæ—¥å¿—çš„æ³¨è§£ï¼Œä½¿ç”¨è¿™ä¸ªæ³¨è§£ä¸ºæ—¥å¿—æ“ä½œæ·»åŠ ä¸€å±‚æŠ½è±¡ï¼Œå³å…è®¸å¼€å‘è€…åœ¨ä»£ç ä¸­ä½¿ç”¨ä¸€ä¸ªç»Ÿä¸€çš„ API è¿›è¡Œæ—¥å¿—è®°å½•ï¼Œè€Œå…·ä½“çš„æ—¥å¿—å®ç°å¯ä»¥åœ¨ç¼–è¯‘åé€šè¿‡ä¾èµ–åº“(å¦‚log4j)çš„å½¢å¼è¿›è¡Œæ›¿æ¢ï¼ˆå’Œä¸ä¹…å‰æ¥è§¦åˆ°çš„JDBCå¾ˆç›¸ä¼¼ï¼Œå…³é”®åœ¨äºæŠ½è±¡ï¼Œåªæä¾›æ ‡å‡†ï¼Œä¸æä¾›å…·ä½“å®ç°),è¿™ä¸ªæ³¨è§£ä¼šåˆ›å»ºä¸€ä¸ªåä¸ºlogçš„æ—¥å¿—å¯¹è±¡(æ£€æµ‹åˆ°åŒåå¯¹è±¡æ—¶ä¸ä¼šåˆ›å»º),ç›´æ¥è°ƒç”¨å³å¯</p>
<p>è‡ªå·±åˆ›å»ºæ—¥å¿—å¯¹è±¡æ˜¯è¿™æ ·çš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(DeptController.class);</span><br></pre></td></tr></table></figure>
</li>
<li><p>RestController: æ˜¯Controllerçš„ä¸€ä¸ªç‰¹æ®ŠåŒ–æ³¨è§£ï¼Œä¸“é—¨ç”¨äºRESTful WebæœåŠ¡ï¼Œè¿”å›JSONæˆ–XMLç­‰æ•°æ®æ ¼å¼,ä¼ ç»Ÿçš„MVCæ¶æ„ä¸­éœ€è¦ä½¿ç”¨Controlleræ³¨è§£å¤„ç†webè¯·æ±‚ç”¨äºè¿”å›ä¸€ä¸ªè§†å›¾(å¦‚html),RestControllerç›´æ¥è¿”å›æ•°æ®ï¼Œä¸æ¶‰åŠè§†å›¾</p>
</li>
<li><p>Autowired: è‡ªåŠ¨æ³¨å…¥æ³¨è§£,è¿™æ˜¯é€»è¾‘å±‚çš„æ¥å£,ä½†åœ¨iocæ± é‡Œç®¡ç†çš„å´æ˜¯å®ç°è¯¥æ¥å£çš„å…·ä½“ç±»,è‡ªåŠ¨æ³¨å…¥æ—¶ä¼šå°†å…·ä½“ç±»æ³¨å…¥åˆ°è¿™é‡Œ(å¤šæ€)</p>
</li>
<li><p>GetMapping: è¿™æ˜¯Springæä¾›çš„æ³¨è§£ï¼Œç”¨äºæ ‡æ³¨æ–¹æ³•åº”å¤„ç†Getè¯·æ±‚ï¼Œè€Œä¸æ˜¯ä»»æ„ç±»å‹ï¼ŒåŸå…ˆä½¿ç”¨RequestMappingæ³¨è§£æ ‡æ³¨æ–¹æ³•ç”¨äºå¤„ç†è¯·æ±‚,ä¸æ·»åŠ å…¶ä»–å‚æ•°æ—¶æ˜¯å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„è¯·æ±‚çš„,å¦‚æœè¦é™åˆ¶å¤„ç†è¯·æ±‚ç±»å‹,å¯ä»¥æ·»åŠ å‚æ•°method</p>
<p><code>@RequestMapping(value = &quot;/depts&quot;,method = RequestMethod.GET)</code>,GetMappingæ³¨è§£åº•å±‚å°±æ˜¯åœ¨RequestMappingä¸Šæ·»åŠ methodå‚æ•°ä¸ºRequetMethod.GET</p>
</li>
<li><p>Result.success(): ç»Ÿä¸€å“åº”ç»“æœ,Resultæ˜¯ä¸€ä¸ªç®€å•ç±»,åŒ…è£…äº†å“åº”æ ¼å¼,successæ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•,å¯ä»¥å°†æ¥æ”¶å‚æ•°ä½œä¸ºè¿”å›å€¼çš„ä¸€éƒ¨åˆ†</p>
</li>
</ul>
<p>DeptService</p>
<p>å®Œæˆæ¥å£,æ·»åŠ æŠ½è±¡æ–¹æ³•è¡¨ç¤ºæŸ¥è¯¢æ“ä½œ:è¿”å›ä¸€ä¸ªé›†åˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DeptService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;Dept&gt; <span class="title function_">listDept</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®ç°æ¥å£</p>
<p>DeptServiceImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">DeptService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    DeptMapper deptMapper;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Dept&gt; <span class="title function_">listDept</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> deptMapper.listDept();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œæ²¡ä»€ä¹ˆè¦ç‚¹,æ³¨æ„deptMapperåŒæ ·æ˜¯å¤šæ€ç”¨æ³•</p>
<p>æœ€åå°±æ˜¯æ•°æ®è®¿é—®å±‚äº†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DeptMapper</span> &#123;</span><br><span class="line">    <span class="meta">@Select(&quot;select * from dept&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Dept&gt; <span class="title function_">listDept</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œåˆæœ‰ä¸€äº›è¦ç‚¹:</p>
<ul>
<li>Mapperæ³¨è§£: Springæä¾›Repositoryæ³¨è§£ç”¨äºæ ‡æ³¨æ•°æ®è®¿é—®å±‚,è€ŒMybatisæä¾›çš„Mapperæ³¨è§£ä¹Ÿæ˜¯ç±»ä¼¼çš„ä½œç”¨,ä½†Mapperèƒ½å°†æ¥å£æ˜ å°„åˆ°SQLè¯­å¥,ä½¿å¾—MyBatisèƒ½å¤Ÿç”Ÿæˆè¯¥æ¥å£çš„å®ç°ç±»ï¼Œå¹¶å°†SQLè¯­å¥ä¸æ¥å£æ–¹æ³•å…³è”,å¦‚listDeptå…³è”äº†ä¸€ä¸ªSelectæ–¹æ³•</li>
<li>Selectæ³¨è§£: Mybatisæä¾›çš„æ³¨è§£,ç”¨äºåœ¨æ¥å£æ–¹æ³•ä¸Šç›´æ¥ç¼–å†™ SQL æŸ¥è¯¢è¯­å¥ï¼Œè€Œä¸éœ€è¦åœ¨ XML æ˜ å°„æ–‡ä»¶ä¸­ç¼–å†™,å½“ç„¶è¿˜æœ‰å¾ˆå¤šç±»ä¼¼çš„æ³¨è§£,ä¸€èˆ¬ä¸sqlæ“ä½œçš„å…³é”®è¯ç›¸å…³</li>
</ul>
<p>åŸºæœ¬ç»“æ„ç¼–å†™å®Œæ¯•,å‡†å¤‡æµ‹è¯•çš„æ—¶å€™å‘ç°æ•°æ®åº“æ˜¯ç©ºçš„ğŸ˜ª</p>
<p>å»ºè¡¨å§</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- éƒ¨é—¨ç®¡ç†</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept(</span><br><span class="line">    id <span class="type">int</span> unsigned <span class="keyword">primary</span> key auto_increment comment <span class="string">&#x27;ä¸»é”®ID&#x27;</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span> comment <span class="string">&#x27;éƒ¨é—¨åç§°&#x27;</span>,</span><br><span class="line">    create_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,</span><br><span class="line">    update_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;ä¿®æ”¹æ—¶é—´&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;éƒ¨é—¨è¡¨&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept (id, name, create_time, update_time) <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;å­¦å·¥éƒ¨&#x27;</span>,now(),now()),(<span class="number">2</span>,<span class="string">&#x27;æ•™ç ”éƒ¨&#x27;</span>,now(),now()),(<span class="number">3</span>,<span class="string">&#x27;å’¨è¯¢éƒ¨&#x27;</span>,now(),now()), (<span class="number">4</span>,<span class="string">&#x27;å°±ä¸šéƒ¨&#x27;</span>,now(),now()),(<span class="number">5</span>,<span class="string">&#x27;äººäº‹éƒ¨&#x27;</span>,now(),now());</span><br><span class="line"></span><br><span class="line"><span class="comment">-- å‘˜å·¥ç®¡ç†(å¸¦çº¦æŸ)</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> emp (</span><br><span class="line">  id <span class="type">int</span> unsigned <span class="keyword">primary</span> key auto_increment comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">  username <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> <span class="keyword">unique</span> comment <span class="string">&#x27;ç”¨æˆ·å&#x27;</span>,</span><br><span class="line">  password <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">default</span> <span class="string">&#x27;123456&#x27;</span> comment <span class="string">&#x27;å¯†ç &#x27;</span>,</span><br><span class="line">  name <span class="type">varchar</span>(<span class="number">10</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">  gender tinyint unsigned <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;æ€§åˆ«, è¯´æ˜: 1 ç”·, 2 å¥³&#x27;</span>,</span><br><span class="line">  image <span class="type">varchar</span>(<span class="number">300</span>) comment <span class="string">&#x27;å›¾åƒ&#x27;</span>,</span><br><span class="line">  job tinyint unsigned comment <span class="string">&#x27;èŒä½, è¯´æ˜: 1 ç­ä¸»ä»»,2 è®²å¸ˆ, 3 å­¦å·¥ä¸»ç®¡, 4 æ•™ç ”ä¸»ç®¡, 5 å’¨è¯¢å¸ˆ&#x27;</span>,</span><br><span class="line">  entrydate <span class="type">date</span> comment <span class="string">&#x27;å…¥èŒæ—¶é—´&#x27;</span>,</span><br><span class="line">  dept_id <span class="type">int</span> unsigned comment <span class="string">&#x27;éƒ¨é—¨ID&#x27;</span>,</span><br><span class="line">  create_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;åˆ›å»ºæ—¶é—´&#x27;</span>,</span><br><span class="line">  update_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;ä¿®æ”¹æ—¶é—´&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;å‘˜å·¥è¡¨&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp</span><br><span class="line">    (id, username, password, name, gender, image, job, entrydate,dept_id, create_time, update_time) <span class="keyword">VALUES</span></span><br><span class="line">    (<span class="number">1</span>,<span class="string">&#x27;jinyong&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;é‡‘åº¸&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;1.jpg&#x27;</span>,<span class="number">4</span>,<span class="string">&#x27;2000-01-01&#x27;</span>,<span class="number">2</span>,now(),now()),</span><br><span class="line">    (<span class="number">2</span>,<span class="string">&#x27;zhangwuji&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;å¼ æ— å¿Œ&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;2.jpg&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;2015-01-01&#x27;</span>,<span class="number">2</span>,now(),now()),</span><br><span class="line">    (<span class="number">3</span>,<span class="string">&#x27;yangxiao&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;æ¨é€&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;3.jpg&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;2008-05-01&#x27;</span>,<span class="number">2</span>,now(),now()),</span><br><span class="line">    (<span class="number">4</span>,<span class="string">&#x27;weiyixiao&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;éŸ¦ä¸€ç¬‘&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;4.jpg&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;2007-01-01&#x27;</span>,<span class="number">2</span>,now(),now()),</span><br><span class="line">    (<span class="number">5</span>,<span class="string">&#x27;changyuchun&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;å¸¸é‡æ˜¥&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;5.jpg&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;2012-12-05&#x27;</span>,<span class="number">2</span>,now(),now()),</span><br><span class="line">    (<span class="number">6</span>,<span class="string">&#x27;xiaozhao&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;å°æ˜­&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;6.jpg&#x27;</span>,<span class="number">3</span>,<span class="string">&#x27;2013-09-05&#x27;</span>,<span class="number">1</span>,now(),now()),</span><br><span class="line">    (<span class="number">7</span>,<span class="string">&#x27;jixiaofu&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;çºªæ™“èŠ™&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;7.jpg&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;2005-08-01&#x27;</span>,<span class="number">1</span>,now(),now()),</span><br><span class="line">    (<span class="number">8</span>,<span class="string">&#x27;zhouzhiruo&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;å‘¨èŠ·è‹¥&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;8.jpg&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;2014-11-09&#x27;</span>,<span class="number">1</span>,now(),now()),</span><br><span class="line">    (<span class="number">9</span>,<span class="string">&#x27;dingminjun&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;ä¸æ•å›&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;9.jpg&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;2011-03-11&#x27;</span>,<span class="number">1</span>,now(),now()),</span><br><span class="line">    (<span class="number">10</span>,<span class="string">&#x27;zhaomin&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;èµµæ•&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;10.jpg&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;2013-09-05&#x27;</span>,<span class="number">1</span>,now(),now()),</span><br><span class="line">    (<span class="number">11</span>,<span class="string">&#x27;luzhangke&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;é¹¿æ–å®¢&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;11.jpg&#x27;</span>,<span class="number">5</span>,<span class="string">&#x27;2007-02-01&#x27;</span>,<span class="number">3</span>,now(),now()),</span><br><span class="line">    (<span class="number">12</span>,<span class="string">&#x27;hebiweng&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;é¹¤ç¬”ç¿&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;12.jpg&#x27;</span>,<span class="number">5</span>,<span class="string">&#x27;2008-08-18&#x27;</span>,<span class="number">3</span>,now(),now()),</span><br><span class="line">    (<span class="number">13</span>,<span class="string">&#x27;fangdongbai&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;æ–¹ä¸œç™½&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;13.jpg&#x27;</span>,<span class="number">5</span>,<span class="string">&#x27;2012-11-01&#x27;</span>,<span class="number">3</span>,now(),now()),</span><br><span class="line">    (<span class="number">14</span>,<span class="string">&#x27;zhangsanfeng&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;å¼ ä¸‰ä¸°&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;14.jpg&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;2002-08-01&#x27;</span>,<span class="number">2</span>,now(),now()),</span><br><span class="line">    (<span class="number">15</span>,<span class="string">&#x27;yulianzhou&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;ä¿è²èˆŸ&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;15.jpg&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;2011-05-01&#x27;</span>,<span class="number">2</span>,now(),now()),</span><br><span class="line">    (<span class="number">16</span>,<span class="string">&#x27;songyuanqiao&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;å®‹è¿œæ¡¥&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;16.jpg&#x27;</span>,<span class="number">2</span>,<span class="string">&#x27;2007-01-01&#x27;</span>,<span class="number">2</span>,now(),now()),</span><br><span class="line">    (<span class="number">17</span>,<span class="string">&#x27;chenyouliang&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>,<span class="string">&#x27;é™ˆå‹è°…&#x27;</span>,<span class="number">1</span>,<span class="string">&#x27;17.jpg&#x27;</span>,<span class="keyword">NULL</span>,<span class="string">&#x27;2015-03-21&#x27;</span>,<span class="keyword">NULL</span>,now(),now());</span><br></pre></td></tr></table></figure>

<p>å¯åŠ¨springé¡¹ç›®,springä¼šä½¿ç”¨å†…ç½®çš„TomcatæœåŠ¡å™¨,å¹¶å ç”¨æˆ‘ä»¬äº‹å…ˆé…ç½®å¥½çš„ç«¯å£(8080)</p>
<p><code>o.s.b.w.embedded.tomcat.TomcatWebServer : Tomcat initialized with port 8080 (http)</code></p>
<p>åœ¨è¿›è¡Œå‰åç«¯è°ƒè”ä¹‹å‰,å¯ä»¥å¯¹æ¥å£å…ˆè¿›è¡Œä¸€ä¸ªæµ‹è¯•â€”â€”æ‰“å¼€postman</p>
<p>å‘æœåŠ¡å™¨æ‰€åœ¨ç«¯å£å‘é€GETè¯·æ±‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/depts</span><br></pre></td></tr></table></figure>

<p>è¯·æ±‚æˆåŠŸï¼Œå†è¯•è¯•å…¶ä»–è¯·æ±‚æ–¹å¼ï¼Œå…ˆæ¥ä¸ªPOSTï¼Ÿ</p>
<p>è¿”å›ç»“æœè¡¨æ˜ï¼šâŒ é”™è¯¯ä¿¡æ¯ä¸º: â€œMethod Not Allowedâ€ï¼Œè¡¨æ˜æˆ‘ä»¬çš„GetMapperæ³¨è§£èµ·ä½œç”¨äº†</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;timestamp&quot;: &quot;2024-09-19T09:21:01.971+00:00&quot;,</span><br><span class="line">    &quot;status&quot;: 405,</span><br><span class="line">    &quot;error&quot;: &quot;Method Not Allowed&quot;,</span><br><span class="line">    &quot;path&quot;: &quot;/depts&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å¯ä»¥å°è¯•å‰åç«¯è°ƒè”äº†</p>
<p>è¿è¡Œå‰ç«¯é¡¹ç›®ä½¿ç”¨çš„æœåŠ¡å™¨Nginxï¼Œå ç”¨ç«¯å£90ï¼Œåœ¨æµè§ˆå™¨ä¸­è®¿é—®è¿™ä¸ªç«¯å£</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:90/</span><br></pre></td></tr></table></figure>

<p>ç‚¹å‡»éƒ¨é—¨ç®¡ç†ï¼Œä¸å‡ºæ„å¤–çš„è¯ï¼Œå·²ç»å®Œæˆäº†æ•°æ®åº“çš„æ•°æ®å±•ç¤ºï¼Œè¡¨æ˜è°ƒè”æˆåŠŸ</p>
<p>æ€»ç®—å®ŒæˆæŸ¥æ‰¾æ“ä½œäº†ï¼Œæ¥ä¸‹æ¥ç»§ç»­å®Œæˆåˆ æ”¹å¢å§</p>
<h2 id="åˆ "><a href="#åˆ " class="headerlink" title="åˆ "></a>åˆ </h2><p>æ–‡æ¡£ä¸­æ˜¯è¿™ä¹ˆå†™çš„ï¼š</p>
<blockquote>
<p>è¯·æ±‚è·¯å¾„ï¼š&#x2F;depts&#x2F;{id}</p>
<p>è¯·æ±‚æ–¹å¼ï¼šDELETE</p>
<p>æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºæ ¹æ®IDåˆ é™¤éƒ¨é—¨æ•°æ®</p>
</blockquote>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè¯·æ±‚è·¯å¾„ä¸­ä¼šæºå¸¦éœ€è¦åˆ é™¤æ•°æ®çš„idï¼Œè¿™ä¸ªidè¿˜æ˜¯ä¸€ä¸ªå˜é‡ï¼Œè¦æ€ä¹ˆåˆ†ç¦»è¿™ä¸ªå‚æ•°å‘¢</p>
<p>è€è§„çŸ©ï¼Œå…ˆåˆ†æéœ€æ±‚ï¼šå…¶å®è¿˜æ˜¯ä¸‰å±‚ä¹‹é—´ç›¸äº’è°ƒç”¨ï¼Œåªæ˜¯è¿™æ¬¡éœ€è¦å¤„ç†ä¸€ä¸ªå‚æ•°id</p>
<p>controller-ã€‹service-ã€‹mapper</p>
<h3 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h3><p>DeptController</p>
<p>ç”±äºè¿™ä¸ªæ“ä½œä¹Ÿä¸è¡¨Deptæœ‰å…³ï¼Œæ‰€ä»¥è·ŸæŸ¥è¯¢æ“ä½œçš„è¯·æ±‚å¤„ç†æ–¹æ³•æ”¾åœ¨åŒä¸€ä¸ªç±»ä¸­å³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DeleteMapping(&quot;/depts/&#123;id&#125;&quot;)</span></span><br><span class="line">   <span class="keyword">public</span> Result <span class="title function_">deleteDept</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span> &#123;</span><br><span class="line">       log.info(<span class="string">&quot;åˆ é™¤id=&#123;&#125;çš„éƒ¨é—¨&quot;</span>,id);</span><br><span class="line">       deptService.deleteDept(id);</span><br><span class="line">       <span class="keyword">return</span> Result.success();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>å¤§éƒ¨åˆ†ä¸æŸ¥è¯¢æ“ä½œä¸€æ ·ï¼Œè¿˜æ˜¯é‚£ä¸ªé—®é¢˜ï¼Œæ€ä¹ˆåˆ†ç¦»<strong>è·¯å¾„ä¸­</strong>çš„å‚æ•°ï¼šä½¿ç”¨PathVariableæ³¨è§£ï¼ˆè¯¦è§æœåŠ¡å™¨çš„è¯·æ±‚ä¸ç›¸åº”ï¼‰ï¼Œè¿™ä¸ªæ³¨è§£å¯ä»¥æå–è·¯å¾„ä¸­åŒåçš„å‚æ•°</p>
<p>è¿˜æœ‰ä¸€ä»¶äº‹~DeleteMappingï¼šä¸“æ³¨Deleteæ“ä½œçš„RequestMapping</p>
<h3 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h3><p>é€»è¾‘å±‚æ¥å£æŠ½è±¡æ–¹æ³•++</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteDept</span><span class="params">(<span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></figure>

<p>å®ç°æ–¹æ³•</p>
<p>DeptServiceImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">DeleteEmp</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">    empMapper.DeleteEmp(id);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Mapper"><a href="#Mapper" class="headerlink" title="Mapper"></a>Mapper</h3><p>ç®€å•çš„ä¸€ä¸ªåˆ é™¤è¯­å¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Delete(&quot;delete from dept where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteDept</span><span class="params">(<span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></figure>

<p>*ç›¸ä¿¡ä½ çŸ¥é“#{}æ˜¯ä»€ä¹ˆæ„æ€ï¼šè·å–æ–¹æ³•ä¸­çš„å½¢å‚</p>
<p>æµ‹è¯•æ—¶é€‰æ‹©ä¸€ä¸ªè®¨åŒçš„éƒ¨é—¨ï¼Œç›´æ¥ç»™ä»–âœ‚æ‰ï¼Œ<del>ä¹Ÿæ˜¯å½“ä¸Šè€æ¿è¾½</del></p>
<h2 id="å¢"><a href="#å¢" class="headerlink" title="å¢"></a>å¢</h2><p>æ–‡æ¡£æè¿°ï¼š</p>
<p>è¯·æ±‚è·¯å¾„ï¼š&#x2F;depts</p>
<p>è¯·æ±‚æ–¹å¼ï¼šPOST</p>
<p>æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºæ·»åŠ éƒ¨é—¨æ•°æ®</p>
<p>ç”±äºè¯·æ±‚ç±»å‹æ˜¯POSTï¼Œè¯´æ˜æœ‰è¯·æ±‚ä½“</p>
<p>è¯·æ±‚å‚æ•°</p>
<p>æ ¼å¼ï¼šapplication&#x2F;json</p>
<p>ç±»å‹ï¼š</p>
<table>
<thead>
<tr>
<th>å‚æ•°å</th>
<th>ç±»å‹</th>
<th>æ˜¯å¦å¿…é¡»</th>
<th>å¤‡æ³¨</th>
</tr>
</thead>
<tbody><tr>
<td>name</td>
<td>String</td>
<td>å¦</td>
<td>éƒ¨é—¨åç§°</td>
</tr>
</tbody></table>
<p>å‰ç«¯å‘åç«¯å‘é€è¯·æ±‚æ—¶ï¼Œä¼šæºå¸¦ä¸€ä¸ªjsonæ ¼å¼è¯·æ±‚ä½“ï¼Œè¿™ä¸ªè¯·æ±‚ä½“ä¸­æœ‰ä¸€äº›å‚æ•°ï¼Œå¦‚ä½•æå–è¯·æ±‚ä½“ä¸­çš„å‚æ•°å‘¢ï¼Ÿ</p>
<p>ä½¿ç”¨<strong>RequestBody</strong>æ³¨è§£å°†è¯·æ±‚ä½“å‚æ•°æ˜ å°„åˆ°å¯¹è±¡ä¸Šï¼Œå‚æ•°åä¸å¯¹è±¡ä¸­çš„å˜é‡åç›¸åŒæ—¶å°±èƒ½è‡ªåŠ¨æ˜ å°„äº†ï¼ˆè¯¦è§æœåŠ¡å™¨çš„è¯·æ±‚ä¸å“åº”ï¼‰</p>
<h3 id="Controller-1"><a href="#Controller-1" class="headerlink" title="Controller"></a>Controller</h3><p>DeptController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/depts&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">addDept</span><span class="params">(<span class="meta">@RequestBody</span> Dept dept)</span> &#123;  </span><br><span class="line">    log.info(<span class="string">&quot;æ·»åŠ åä¸º&#123;&#125;çš„éƒ¨é—¨&quot;</span>,dept.getName());  </span><br><span class="line">    deptService.insertDept(dept);  </span><br><span class="line">    <span class="keyword">return</span> Result.success();  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Service-1"><a href="#Service-1" class="headerlink" title="Service"></a>Service</h3><p>æ·»åŠ çš„æ•°æ®å®é™…ä¸Šæœ‰å››ä¸ªå€¼ï¼šidï¼Œnameï¼Œcreatetimeï¼Œupdatetimeï¼Œå…¶ä¸­åªæœ‰nameæ˜¯éœ€è¦ä»å‰ç«¯æ¥æ”¶çš„ï¼Œå…¶ä»–å­—æ®µéƒ½æ˜¯åœ¨é€»è¾‘å±‚å¤„ç†åï¼Œäº¤ç»™æ•°æ®è®¿é—®å±‚ï¼ˆidä¸»é”®ä¼šè‡ªåŠ¨æ·»åŠ ï¼‰</p>
<p>DeptServiceImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insertDept</span><span class="params">(Dept dept)</span> &#123;  </span><br><span class="line">    <span class="type">LocalDateTime</span> <span class="variable">createTime</span> <span class="operator">=</span> LocalDateTime.now();  </span><br><span class="line">    <span class="type">LocalDateTime</span> <span class="variable">updateTime</span> <span class="operator">=</span> LocalDateTime.now();  </span><br><span class="line">    dept.setCreateTime(createTime);  </span><br><span class="line">    dept.setUpdateTime(updateTime);  </span><br><span class="line">    deptMapper.insertDept(dept);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Mapper-1"><a href="#Mapper-1" class="headerlink" title="Mapper"></a>Mapper</h3><p>æ·»åŠ å¢æ–¹æ³•</p>
<p>DeptMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Insert(&quot;insert into dept(name,create_time,update_time) values(#&#123;name&#125;,#&#123;createTime&#125;,#&#123;updateTime&#125;)&quot;)</span>  </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">insertDept</span><span class="params">(Dept dept)</span>;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„sqlä¸­æ·»åŠ æ•°æ®çš„è¯­æ³•</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> è¡¨å (å­—æ®µå<span class="number">1</span>,å­—æ®µå<span class="number">2</span>) <span class="keyword">values</span> (å€¼<span class="number">1</span>,å€¼<span class="number">2</span>);</span><br></pre></td></tr></table></figure>

<h2 id="æ”¹"><a href="#æ”¹" class="headerlink" title="æ”¹"></a>æ”¹</h2><p>æ–‡æ¡£æè¿°ï¼š</p>
<p>è¯·æ±‚è·¯å¾„ï¼š&#x2F;depts</p>
<p>è¯·æ±‚æ–¹å¼ï¼šPUT</p>
<p>æ¥å£æè¿°ï¼šè¯¥æ¥å£ç”¨äºä¿®æ”¹éƒ¨é—¨æ•°æ®</p>
<p>åœ¨ç‚¹å‡»éƒ¨é—¨çš„ä¿®æ”¹æŒ‰é’®åï¼Œå¼¹å‡ºçš„æ–‡æœ¬æ¡†å†…è¦<strong>å…ˆå±•ç¤ºå½“å‰éƒ¨é—¨çš„åå­—</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´è¦å…ˆå®Œæˆæ ¹æ®idæŸ¥è¯¢åå­—çš„åŠŸèƒ½ï¼Œå†æ·»åŠ ä¿®æ”¹éƒ¨é—¨åå­—çš„åŠŸèƒ½</p>
<h3 id="å±•ç¤ºæ•°æ®"><a href="#å±•ç¤ºæ•°æ®" class="headerlink" title="å±•ç¤ºæ•°æ®"></a>å±•ç¤ºæ•°æ®</h3><p>æ ¹æ®æŠ“åŒ…å·¥å…·ï¼Œå¾—åˆ°æŸ¥è¯¢åå­—ä½¿ç”¨çš„æ˜¯Getï¼Œæ‰€ä»¥å°†æ§åˆ¶å±‚æ¥å£è®¾ç½®ä¸º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/&#123;id&#125;&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">getDeptById</span><span class="params">(<span class="meta">@PathVariable</span> Integer id)</span> &#123;  </span><br><span class="line">    log.info(<span class="string">&quot;æŸ¥è¯¢id=&#123;&#125;çš„éƒ¨é—¨&quot;</span>,id);  </span><br><span class="line">    <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> deptService.getDeptById(id);  </span><br><span class="line">    <span class="keyword">return</span> Result.success(dept);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>DeptService</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span>  </span><br><span class="line"><span class="keyword">public</span> Dept <span class="title function_">getDeptById</span><span class="params">(Integer id)</span> &#123;  </span><br><span class="line">    <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> deptMapper.getDeptById(id);  </span><br><span class="line">    <span class="keyword">return</span> dept;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>DeptMapper</p>
<p>æ ¹æ®idæŸ¥è¯¢éƒ¨é—¨ä¿¡æ¯å¹¶è¿”å›ï¼Œå‰ç«¯è‡ªå·±è§£æéœ€è¦å±•ç¤ºçš„æ•°æ®ï¼ˆnameï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from dept where id=#&#123;id&#125;&quot;)</span></span><br><span class="line">Dept <span class="title function_">getDeptById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PutMapping</span>  </span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">updateDept</span><span class="params">(<span class="meta">@RequestBody</span> Dept dept)</span> &#123;  </span><br><span class="line">    log.info(<span class="string">&quot;æ›´æ–°idä¸º&#123;&#125;éƒ¨é—¨çš„åç§°ä¸º&#123;&#125;&quot;</span>,dept.getId(),dept.getName());  </span><br><span class="line">    deptService.updateDept(dept);  </span><br><span class="line">    <span class="keyword">return</span> Result.success();  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>DeptSevice</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">updateDept</span><span class="params">(Dept dept)</span> &#123;  </span><br><span class="line">    dept.setUpdateTime(LocalDateTime.now());  </span><br><span class="line">    deptMapper.updateDept(dept);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>DeptMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Update(&quot;update dept set name = #&#123;name&#125;,update_time = #&#123;updateTime&#125; where id = #&#123;id&#125;&quot;)</span>  </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">updateDept</span><span class="params">(Dept dept)</span>;</span><br></pre></td></tr></table></figure>

<p>sqlä¸­æ›´æ–°æ“ä½œçš„è¯­æ³•</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> è¡¨å <span class="keyword">set</span> å­—æ®µå<span class="number">1</span><span class="operator">=</span>å€¼<span class="number">1</span>,å­—æ®µå<span class="number">2</span><span class="operator">=</span>å€¼<span class="number">2</span>,â€¦[<span class="keyword">where</span> æ¡ä»¶];</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶éƒ¨é—¨æŸ¥è¯¢é¡µé¢çš„åŠŸèƒ½å°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æ˜¯å‘˜å·¥æŸ¥è¯¢é¡µé¢</p>
<h2 id="åˆ†é¡µæŸ¥è¯¢"><a href="#åˆ†é¡µæŸ¥è¯¢" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢"></a>åˆ†é¡µæŸ¥è¯¢</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf4j</span>  </span><br><span class="line"><span class="meta">@RestController</span>  </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpController</span> &#123;  </span><br><span class="line"><span class="meta">@GetMapping(&quot;/emps&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">GetEmps</span><span class="params">(<span class="meta">@RequestParam(defaultValue = &quot;1&quot;)</span> <span class="type">int</span> page,  </span></span><br><span class="line"><span class="params">                      <span class="meta">@RequestParam(defaultValue = &quot;10&quot;)</span> <span class="type">int</span> pageSize)</span> &#123;  </span><br><span class="line">    log.info(<span class="string">&quot;åˆ†é¡µæŸ¥è¯¢å‘˜å·¥&quot;</span>);  </span><br><span class="line">    <span class="type">PageBean</span> <span class="variable">pageBean</span> <span class="operator">=</span> empService.getEmp(page,pageSize);<span class="comment">//å½“å‰é¡µï¼Œä¸€é¡µå±•ç¤ºæ¡æ•°  </span></span><br><span class="line">    <span class="keyword">return</span> Result.success(pageBean);  </span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure>

<p>RequestParamåœ¨ä¹‹å‰ç”¨äºæŒ‡å®šå¤æ‚ç±»å‹çš„æ•°æ®ç»‘å®šï¼Œè¿™é‡Œä½¿ç”¨ä»–å®Œæˆäº†é»˜è®¤å€¼çš„è®¾ç½®</p>
<p>PageBeanæ˜¯é¡µå¯¹è±¡ï¼Œå†…éƒ¨æœ‰é¡µé¢æ•°æ®é›†åˆï¼Œé¡µé¢æ•°æ®é‡</p>
<p>EmpServiceImpl</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span>  </span><br><span class="line"><span class="keyword">public</span> PageBean <span class="title function_">getEmp</span><span class="params">(<span class="type">int</span> page, <span class="type">int</span> pageSize)</span> &#123;  </span><br><span class="line">    <span class="type">Long</span> <span class="variable">count</span> <span class="operator">=</span> empMapper.count();  </span><br><span class="line">    <span class="type">Integer</span> <span class="variable">point</span> <span class="operator">=</span> (page-<span class="number">1</span>)*pageSize;  </span><br><span class="line">    List&lt;Emp&gt; list = empMapper.getEmp(point,pageSize);  </span><br><span class="line">    <span class="type">PageBean</span> <span class="variable">pageBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PageBean</span>(count,list);  </span><br><span class="line">    <span class="keyword">return</span> pageBean;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>empMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from emp limit #&#123;point&#125;,#&#123;pageSize&#125;&quot;)</span></span><br><span class="line">List&lt;Emp&gt; <span class="title function_">getEmp</span><span class="params">(Integer point,Integer pageSize)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Select(&quot;select count(*) from emp&quot;)</span></span><br><span class="line">Long <span class="title function_">count</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±ç®—æ˜¯å®Œæˆäº†ï¼Œåˆ†é¡µæŸ¥è¯¢çš„æ­¥éª¤ä¸º</p>
<ul>
<li>å®Œæˆé¡µé¢åŸºæœ¬æ•°æ®æŸ¥è¯¢</li>
<li>å°è£…æ•°æ®</li>
</ul>
<p>ç”±äºåˆ†é¡µæŸ¥è¯¢çš„æµç¨‹å›ºå®šï¼Œæ‰€ä»¥å‡ºç°äº†ä¸€äº›æ’ä»¶ï¼Œå¯ä»¥ç®€åŒ–åˆ†é¡µæŸ¥è¯¢æ“ä½œ</p>
<h3 id="pagehelper"><a href="#pagehelper" class="headerlink" title="pagehelper"></a>pagehelper</h3><p>ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>empServiceImpl</p>
<p>åœ¨éœ€è¦è¿›è¡Œåˆ†é¡µçš„ MyBatis æŸ¥è¯¢æ–¹æ³•å‰è°ƒç”¨Â <code>PageHelper.startPage</code>Â é™æ€æ–¹æ³•å³å¯ï¼Œç´§è·Ÿåœ¨è¿™ä¸ªæ–¹æ³•åçš„ç¬¬ä¸€ä¸ª<strong>MyBatis æŸ¥è¯¢æ–¹æ³•</strong>ä¼šè¢«è¿›è¡Œåˆ†é¡µ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span>  </span><br><span class="line"><span class="keyword">public</span> PageBean <span class="title function_">getEmp</span><span class="params">(Integer page, Integer pageSize)</span> &#123;</span><br><span class="line">    <span class="comment">//è®¾ç½®åˆ†é¡µå‚æ•°  </span></span><br><span class="line">    PageHelper.startPage(page, pageSize);</span><br><span class="line">    <span class="comment">//æ‰§è¡ŒæŸ¥è¯¢  </span></span><br><span class="line">    List&lt;Emp&gt; list = empMapper.listEmp();  </span><br><span class="line">    Page&lt;Emp&gt; p =(Page&lt;Emp&gt;) list;<span class="comment">//åˆ†é¡µæ—¶ï¼Œå®é™…è¿”å›çš„ç»“æœlistç±»å‹æ˜¯Page&lt;E&gt;ï¼Œå¦‚æœæƒ³å–å‡ºåˆ†é¡µä¿¡æ¯ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢ä¸ºPage&lt;E&gt;</span></span><br><span class="line">    <span class="comment">//å°è£…æ•°æ®</span></span><br><span class="line">    <span class="type">PageBean</span> <span class="variable">pageBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PageBean</span>(p.getTotal(),p.getResult());  </span><br><span class="line">    <span class="keyword">return</span> pageBean;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>empMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from emp&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•æ—¶æŸ¥çœ‹æ§åˆ¶å°ï¼Œå‘ç°æ’ä»¶å®ŒæˆæŸ¥è¯¢è¯­å¥ç”Ÿæˆ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">==&gt;  Preparing: SELECT count(0) FROM emp//ç»Ÿè®¡è®°å½•æ•°</span><br><span class="line">==&gt; Parameters: </span><br><span class="line">&lt;==    Columns: count(0)</span><br><span class="line">&lt;==        Row: 16</span><br><span class="line">&lt;==      Total: 1</span><br><span class="line">==&gt;  Preparing: select * from emp LIMIT ?//åˆ†é¡µæŸ¥è¯¢</span><br><span class="line">==&gt; Parameters: 5(Integer)</span><br></pre></td></tr></table></figure>

<h2 id="å®Œæˆæ¡ä»¶æŸ¥è¯¢"><a href="#å®Œæˆæ¡ä»¶æŸ¥è¯¢" class="headerlink" title="å®Œæˆæ¡ä»¶æŸ¥è¯¢"></a>å®Œæˆæ¡ä»¶æŸ¥è¯¢</h2><p>å‘˜å·¥æŸ¥è¯¢é¡µé¢è¿˜æä¾›äº†ä¸€äº›å¯é€‰çš„æŸ¥è¯¢æ¡ä»¶ï¼šå§“åï¼Œæ€§åˆ«ï¼Œå…¥èŒæ—¥æœŸåŒºé—´ï¼Œä¸ºè¿™äº›æ¡ä»¶æ·»åŠ å¯¹åº”å½¢å‚ï¼Œæ·»åŠ åˆ°è¯·æ±‚å¤„ç†æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@GetMapping(&quot;/emps&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">GetEmps</span><span class="params">(<span class="meta">@RequestParam(defaultValue = &quot;1&quot;)</span> <span class="type">int</span> page,  </span></span><br><span class="line"><span class="params">                      <span class="meta">@RequestParam(defaultValue = &quot;10&quot;)</span> <span class="type">int</span> pageSize,  </span></span><br><span class="line"><span class="params">                      String name, Short gender,  </span></span><br><span class="line"><span class="params">                      <span class="meta">@DateTimeFormat(pattern = &quot;yyyy-mm-dd&quot;)</span> LocalDate begin,  </span></span><br><span class="line"><span class="params">                      <span class="meta">@DateTimeFormat(pattern = &quot;yyyy-mm-dd&quot;)</span> LocalDate end)</span> &#123;  </span><br><span class="line">    log.info(<span class="string">&quot;åˆ†é¡µæŸ¥è¯¢å‘˜å·¥&quot;</span>);  </span><br><span class="line">    <span class="type">PageBean</span> <span class="variable">pageBean</span> <span class="operator">=</span> empService.getEmp(page,pageSize,name,gender,begin,end);<span class="comment">//å½“å‰é¡µï¼Œä¸€é¡µå±•ç¤ºæ¡æ•°  </span></span><br><span class="line">    <span class="keyword">return</span> Result.success(pageBean);  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>DateTimeFormat æ˜¯ Java ä¸­ java.text åŒ…ä¸­çš„ä¸€ä¸ªç±»ï¼Œç”¨äºæ ¼å¼åŒ–å’Œè§£ææ—¥æœŸå’Œæ—¶é—´ã€‚å®ƒæä¾›äº†å¯¹æ—¥æœŸå’Œæ—¶é—´æ¨¡å¼çš„æ”¯æŒï¼Œå…è®¸ä½ å®šä¹‰æ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼ï¼Œç„¶åä½¿ç”¨è¿™äº›æ ¼å¼æ¥æ ¼å¼åŒ– Date å¯¹è±¡ä¸ºå­—ç¬¦ä¸²ï¼Œæˆ–è€…å°†å­—ç¬¦ä¸²è§£æä¸º Date å¯¹è±¡</p>
</blockquote>
<p>EmpServiceImpl</p>
<p>é™¤äº†åˆ†é¡µæŸ¥è¯¢ç”¨åˆ°çš„ä¸¤ä¸ªå‚æ•°ï¼Œæ·»åŠ æ¡ä»¶æŸ¥è¯¢ç”¨åˆ°çš„å½¢å‚</p>
<p>PageHelper.startPage(page, pageSize);&#x2F;&#x2F;é¦–å…ˆä½¿ç”¨åˆ†é¡µæŸ¥è¯¢å‚æ•°å®Œæˆæ’ä»¶é…ç½®</p>
<p>List list &#x3D; empMapper.listEmp(name,gender,begin,end);&#x2F;&#x2F;è¯¥æ¡ä»¶æŸ¥è¯¢ä¼šåº”ç”¨åˆ†é¡µæŸ¥è¯¢ï¼Œå¹¶ä¸”å¯æºå¸¦å¤šä¸ªæ¡ä»¶æŸ¥è¯¢å‚æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span>  </span><br><span class="line"><span class="keyword">public</span> PageBean <span class="title function_">getEmp</span><span class="params">(Integer page, Integer pageSize, String name, Short gender, LocalDate begin, LocalDate end)</span> &#123;  </span><br><span class="line">    PageHelper.startPage(page, pageSize);  </span><br><span class="line">    List&lt;Emp&gt; list = empMapper.listEmp(name,gender,begin,end);  </span><br><span class="line">    Page&lt;Emp&gt; p =(Page&lt;Emp&gt;) list;  </span><br><span class="line">    <span class="type">PageBean</span> <span class="variable">pageBean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PageBean</span>(p.getTotal(),p.getResult());  </span><br><span class="line">    <span class="keyword">return</span> pageBean;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”±äºå¯å˜å‚æ•°è¾ƒå¤šï¼Œè¿™é‡Œé€‰ç”¨XMLæ˜ å°„å®Œæˆsqlè¯­å¥</p>
<p>EmpMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">listEmp</span><span class="params">(String name, Short gender, LocalDate begin, LocalDate end)</span>;</span><br></pre></td></tr></table></figure>

<p>xmlæ˜ å°„æ–‡ä»¶å¦‚ä½•é…ç½®ï¼Ÿï¼ˆè¯¦è§Mybatisï¼‰</p>
<ul>
<li><p>é¦–å…ˆè¦ä¸æŒä¹…å±‚åŒåŒ…åŒå</p>
</li>
<li><p>æ·»åŠ é…ç½®ä¿¡æ¯</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line">    <span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">    <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">    <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>é…ç½®Mapperæ¥å£çš„å…¨é™å®šå</p>
</li>
<li><p>æ·»åŠ sqlè¯­å¥</p>
</li>
</ul>
<p>è¿™é‡Œçš„æŸ¥è¯¢ç»“æ„é•¿è¿™æ ·</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="keyword">like</span> concat(<span class="string">&#x27;%&#x27;</span>,<span class="string">&#x27;å¼ &#x27;</span>,<span class="string">&#x27;%&#x27;</span>)  </span><br><span class="line">                    <span class="keyword">and</span> gender <span class="operator">=</span> <span class="number">1</span>  </span><br><span class="line">                    <span class="keyword">and</span> entrydate <span class="keyword">between</span> <span class="string">&#x27;2003-08-01&#x27;</span> <span class="keyword">and</span> <span class="string">&#x27;2020-01-01&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨mybatisæä¾›æ ‡ç­¾å®ŒæˆåŠ¨æ€sql</p>
<p>åœ¨æ¥æ”¶å‰ç«¯ä¼ å‚æ—¶ï¼Œå¯¹äºé¡µé¢ç»“æ„ï¼ˆpage, pageSizeï¼‰ï¼Œæˆ‘ä»¬è®¾ç½®äº†é»˜è®¤å€¼ï¼Œè€Œå…¶ä»–æ¡ä»¶æŸ¥è¯¢æ¡ä»¶ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰è®¾ç½®é»˜è®¤å€¼ï¼Œå› æ­¤é»˜è®¤ä¸ºnullï¼Œå½“åˆ¤æ–­å­—æ®µä¸ºç©ºæ—¶ï¼Œsqlè¯­å¥ä¸ä¼šæ‹¼æ¥åˆ°æ€»æŸ¥è¯¢è¯­å¥ä¸­</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.tlias.mapper.EmpMapper&quot;</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;listEmp&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.tlias.pojo.Emp&quot;</span>&gt;</span>  </span><br><span class="line">        select * from emp  </span><br><span class="line">         <span class="tag">&lt;<span class="name">where</span>&gt;</span>  </span><br><span class="line">             <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;name != null&quot;</span>&gt;</span>  </span><br><span class="line">                 name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)  </span><br><span class="line">             <span class="tag">&lt;/<span class="name">if</span>&gt;</span>  </span><br><span class="line">             <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;gender != null&quot;</span>&gt;</span>  </span><br><span class="line">                 and gender = #&#123;gender&#125;  </span><br><span class="line">             <span class="tag">&lt;/<span class="name">if</span>&gt;</span>  </span><br><span class="line">             <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;begin!= null and end != null&quot;</span>&gt;</span>  </span><br><span class="line">                and entrydate between #&#123;begin&#125; and #&#123;end&#125;  </span><br><span class="line">             <span class="tag">&lt;/<span class="name">if</span>&gt;</span>  </span><br><span class="line">         <span class="tag">&lt;/<span class="name">where</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åˆ·æ–°é¡µé¢ï¼ŒæŸ¥è¯¢æ§åˆ¶å°ä¸­å±•ç¤ºä½¿ç”¨çš„sqlè¯­å¥ä¸º</p>
<p><code>==&gt; Preparing: select * from emp WHERE name like concat(&#39;%&#39;,?,&#39;%&#39;) LIMIT ?</code>ä½†æ˜¯å½“å‰æˆ‘æ²¡æœ‰è¾“å…¥ä»»ä½•æŸ¥è¯¢æ¡ä»¶ï¼Œä¸ºä»€ä¹ˆä¼šæ‹¼æ¥<code>WHERE name like concat(&#39;%&#39;,?,&#39;%&#39;)</code>ï¼Ÿ</p>
<p>è°ƒè¯•åå‘ç°ï¼Œnameçš„å€¼ä¸æ˜¯nullï¼Œè€Œæ˜¯â€™â€™ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰ï¼Œå› æ­¤ä¿®æ”¹nameçš„æŸ¥è¯¢æ·»åŠ æ¡ä»¶ä¸º<code>test=&quot;name != null and name!=&#39;&#39;&quot;</code></p>
<p>åˆ é™¤æ“ä½œ</p>
<p>æ”¯æŒæ‰¹é‡åˆ é™¤ï¼Œè¯·æ±‚è·¯å¾„ç±»ä¼¼<code>/emps/16,15</code></p>
<p>åˆæ˜¯è·¯å¾„æºå¸¦å‚æ•°ï¼Œä½¿ç”¨PathVariableæ³¨è§£è·å–å¹¶ä½¿ç”¨ä¸€ä¸ªé›†åˆå°è£…</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DeleteMapping(&quot;/emps/&#123;id&#125;&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">DeleteEmp</span><span class="params">(<span class="meta">@PathVariable</span> List&lt;Integer&gt; id)</span> &#123;  </span><br><span class="line">    log.info(<span class="string">&quot;åˆ é™¤id=&#123;&#125;çš„å‘˜å·¥&quot;</span>,id);  </span><br><span class="line">    empService.deleteEmps(id);  </span><br><span class="line">    <span class="keyword">return</span> Result.success();  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€»è¾‘å±‚æ²¡ä»€ä¹ˆå†…å®¹ï¼Œç›´æ¥å¿«è¿›åˆ°sqlé…ç½®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteEmp</span><span class="params">(List&lt;Integer&gt; ids)</span>;</span><br></pre></td></tr></table></figure>

<p>ç”±äºæ¥æ”¶ä¸€ä¸ªé›†åˆï¼Œéœ€è¦ä½¿ç”¨foreachæ ‡ç­¾éå†è·å–å†…éƒ¨æˆå‘˜ï¼Œå¹¶å®Œæˆè¯­å¥æ‹¼æ¥ï¼ˆè¯¦è§Mybatisï¼‰</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteEmp&quot;</span>&gt;</span>  </span><br><span class="line">    delete from emp where id in  </span><br><span class="line">        <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;ids&quot;</span> <span class="attr">item</span>=<span class="string">&quot;id&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span>&gt;</span>  </span><br><span class="line">            id = #&#123;id&#125;  </span><br><span class="line">        <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>collectionå¡«å›¾è¦éå†åˆ°çš„é›†åˆï¼Œä¹Ÿå°±æ˜¯å‚æ•°ids</p>
<p>itemï¼šéå†å‡ºçš„æ¯ä¸€é¡¹</p>
<p>openï¼šå¼€å¤´æ‹¼æ¥å­—ç¬¦</p>
<p>closeï¼šç»“å°¾æ‹¼æ¥å­—ç¬¦</p>
<p>separatorï¼šåˆ†éš”ç¬¦</p>
<h2 id="å¢ï¼ˆEmpï¼‰"><a href="#å¢ï¼ˆEmpï¼‰" class="headerlink" title="å¢ï¼ˆEmpï¼‰"></a>å¢ï¼ˆEmpï¼‰</h2><p>å¡«å†™è¡¨å•æ·»åŠ å‘˜å·¥</p>
<p>EmpController</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/emps&quot;)</span>  </span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">AddEmp</span><span class="params">(<span class="meta">@RequestBody</span> Emp emp)</span> &#123;  </span><br><span class="line">    log.info(<span class="string">&quot;æ·»åŠ å‘˜å·¥&#123;&#125;&quot;</span>,emp);   </span><br><span class="line">    empService.addEmp(emp);  </span><br><span class="line">    <span class="keyword">return</span> Result.success();  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>EmpService</p>
<p>create_time,update_timeè¿™ä¸¤ä¸ªå­—æ®µçš„æ·»åŠ ä¸ç”¨åœ¨è¿™ä¸€æ­¥åšï¼Œåœ¨è¿™é‡Œè°ƒç”¨javaçš„nowæ–¹æ³•è·å–åˆ°çš„æ—¶é—´åè€Œä¸ç›®æ ‡æ ¼å¼ä¸åŒ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addEmp</span><span class="params">(Emp emp)</span> &#123;</span><br><span class="line">        empMapper.addEmp(emp);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>EmpMapper</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Insert(&quot;insert into emp(username,name,gender,image,job,entrydate,dept_id,create_time,update_time) &quot; +  </span></span><br><span class="line"><span class="meta">        &quot;values(#&#123;username&#125;,#&#123;name&#125;,#&#123;gender&#125;,#&#123;image&#125;,#&#123;job&#125;,#&#123;entrydate&#125;,#&#123;deptId&#125;,now(),now())&quot;)</span>  </span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addEmp</span><span class="params">(Emp emp)</span>;</span><br></pre></td></tr></table></figure>

<h2 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h2><p>å°†æ–‡ä»¶ä¸Šä¼ è‡³æœåŠ¡å™¨ï¼Œåˆ†ä¸ºå‰åç«¯çš„ä¸Šä¼ æ“ä½œ</p>
<p>å‰ç«¯</p>
<p>é€šè¿‡è¡¨å•æäº¤æ–‡ä»¶</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;/upload&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;file&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Upload&quot;</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>action&#x3D;â€&#x2F;uploadâ€ï¼šæäº¤è·¯å¾„</p>
</li>
<li><p>method&#x3D;â€postâ€ï¼šä½¿ç”¨postæ–¹å¼æäº¤ï¼Œç”±äºæ–‡ä»¶ä¸€èˆ¬è¾ƒå¤§ï¼Œå› æ­¤è¦ä½¿ç”¨postæ–¹å¼æäº¤</p>
</li>
<li><p>enctype&#x3D;â€multipart&#x2F;form-dataâ€ï¼šè¡¨å•ç¼–ç æ ¼å¼ï¼Œmultipart&#x2F;form-dataæ˜¯HTTPåè®®ä¸­ä¼ è¾“æ–‡ä»¶å’Œæ–‡æœ¬å­—æ®µçš„ç¼–ç ç±»å‹ï¼Œå…è®¸æµè§ˆå™¨åœ¨å•ä¸ªè¯·æ±‚ä¸­å‘é€é”®å€¼å¯¹ï¼Œå…¶ä¸­è‡³å°‘ä¸€ä¸ªå€¼åŒ…å«æ–‡ä»¶ç±»å‹çš„æ•°æ®ï¼Œ<strong>ä¸æ·»åŠ æ­¤é¡¹ä¼šåªä¼ è¾“ä¸€ä¸ªæ–‡ä»¶å</strong></p>
</li>
<li><p>ä¸¤ä¸ªinputåˆ†åˆ«ä»£è¡¨éœ€è¦ä¸Šä¼ çš„æ–‡ä»¶ï¼Œç¡®è®¤æŒ‰é’®</p>
</li>
</ul>
<p>åç«¯</p>
<p>æ¥æ”¶æ–‡ä»¶</p>
<p>æ­£å¸¸çš„postå¤„ç†ç±»ï¼Œä½†æ˜¯æ¥æ”¶æ–‡ä»¶çš„å‚æ•°ç±»å‹<strong>MultipartFile</strong></p>
<blockquote>
<p>MultipartFileï¼šSpringæ¡†æ¶ä¸­ç”¨äºå¤„ç†æ–‡ä»¶ä¸Šä¼ çš„æ ¸å¿ƒæ¥å£ï¼Œå®ƒæŠ½è±¡äº†å®¢æˆ·ç«¯ä¸Šä¼ çš„æ–‡ä»¶</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadController</span> &#123;  </span><br><span class="line">   <span class="meta">@PostMapping(&quot;/upload&quot;)</span>  </span><br><span class="line">   <span class="keyword">public</span> Result <span class="title function_">upload</span><span class="params">(String username, Integer age, MultipartFile image)</span> <span class="keyword">throws</span> IOException &#123;  </span><br><span class="line">       log.info(<span class="string">&quot;æäº¤æ–‡ä»¶&quot;</span>);  </span><br><span class="line">       <span class="comment">//è·å–æ–‡ä»¶å  </span></span><br><span class="line">       <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span>  image.getOriginalFilename();  </span><br><span class="line">       <span class="comment">//ä¿å­˜æ–‡ä»¶åˆ°æŒ‡å®šè·¯å¾„  </span></span><br><span class="line">       image.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\IDEA_java\\test\\&quot;</span>+fileName));  </span><br><span class="line">       <span class="keyword">return</span> Result.success();  </span><br><span class="line">   &#125;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>getOriginalFilename()ï¼šè·å–æ–‡ä»¶åï¼ˆgetNameå¾—åˆ°çš„æ˜¯å˜é‡åï¼‰</p>
</li>
<li><p>transferTo()ï¼šç”¨äºå°†ä¸Šä¼ çš„æ–‡ä»¶ä¿å­˜åˆ°æŒ‡å®šçš„æ–‡ä»¶è·¯å¾„ï¼Œè¿™æ ·å°±å°†ä¸Šä¼ çš„æ–‡ä»¶ä»ä¸´æ—¶å­˜å‚¨ï¼ˆé€šå¸¸æ˜¯å†…å­˜æˆ–ç£ç›˜ä¸Šçš„ä¸´æ—¶ç›®å½•ï¼‰ç§»åŠ¨åˆ°ä¸€ä¸ªæ°¸ä¹…çš„ä½ç½®äº†</p>
</li>
</ul>
<p>è¿™æ ·å°±å®Œæˆäº†åŸºæœ¬çš„æ–‡ä»¶å­˜å‚¨æ“ä½œï¼Œä½†å®é™…ä¸Šï¼Œè¿™ä¸ªä»£ç æœ‰ä¸€äº›é—®é¢˜ï¼šå½“æˆ‘å­˜å…¥ä¸¤ä¸ªåŒåæ–‡ä»¶ï¼Œå‰é¢çš„æ–‡ä»¶ä¼šè¢«è¦†ç›–</p>
<p>å®¹æ˜“æƒ³åˆ°çš„åšæ³•æ˜¯ï¼Œåœ¨æ–‡ä»¶ååæ·»åŠ å½“å‰æ—¶é—´æ¥å¢åŠ æ–‡ä»¶åçš„å”¯ä¸€æ€§ï¼Œä½†ä¸æ’é™¤æ°æ°æ°å¥½æœ‰ä¸¤ä»½åŒåæ–‡ä»¶åœ¨åŒä¸€æ—¶é—´ä¸Šä¼ çš„å¯èƒ½ï¼Œå› æ­¤æœ€å¥½çš„è§£å†³åŠæ³•æ˜¯ä¸ºæ¯ä¸€ä¸ªæ–‡ä»¶ç”Ÿæˆä¸€ä¸ª<strong>å”¯ä¸€</strong>è¯†åˆ«ç â€”â€”uuid</p>
<blockquote>
<p>UUIDï¼ˆUniversally Unique Identifierï¼‰æ˜¯ä¸€ä¸ªæ ‡å‡†åŒ–çš„å”¯ä¸€æ€§æ ‡è¯†ç¬¦ï¼Œç”¨äºåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­æ— éœ€ä¸­å¤®åè°ƒå°±èƒ½ä¿è¯å”¯ä¸€æ€§ã€‚è¿™ç§å”¯ä¸€æ˜¯å…¨çƒæ€§çš„ï¼Œå³ç”Ÿæˆå‡ºçš„éšæœºå€¼ä¸éœ€è¦ä»»ä½•æ ¡éªŒï¼Œè‚¯å®šå”¯ä¸€</p>
<p>UUIDçš„æ ‡å‡†æ ¼å¼ç”±32ä¸ªåå…­è¿›åˆ¶æ•°å­—ç»„æˆï¼Œä»¥è¿å­—ç¬¦åˆ†ä¸ºäº”ç»„ï¼Œå½¢å¼ä¸º8-4-4-4-12ï¼Œä¾‹å¦‚ï¼š123e4567-e89b-12d3-a456-426614174000</p>
<p>UUIDçš„ä¸»è¦ç‰¹ç‚¹åŒ…æ‹¬ï¼š</p>
<ol>
<li><p><strong>å”¯ä¸€æ€§</strong>ï¼šç”±äºUUIDçš„ç”ŸæˆåŸºäºå¤æ‚çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼Œå› æ­¤UUIDçš„ç”Ÿæˆæ˜¯è‡ªåŒ…å«çš„ï¼Œä¸éœ€è¦ä¸ä¸­å¤®æœåŠ¡å™¨é€šä¿¡æ¥é¿å…é‡å¤</p>
</li>
<li><p><strong>é€šç”¨æ€§</strong>ï¼šUUIDå¯ç”¨äºä»»ä½•éœ€è¦å”¯ä¸€æ ‡è¯†ç¬¦çš„åœºåˆï¼ŒåŒ…æ‹¬ä½†ä¸é™äºæ•°æ®åº“å…³é”®å­—ã€ç¡¬ä»¶åœ°å€ã€ç½‘ç»œåè®®æ ‡è¯†ç¬¦ç­‰</p>
</li>
<li><p><strong>ä¿¡æ¯é‡</strong>ï¼šUUIDåŒ…å«128ä½çš„ä¿¡æ¯ï¼Œæä¾›äº†æå¤§çš„å”¯ä¸€æ€§ä¿è¯</p>
</li>
<li><p><strong>æ— åºæ€§</strong>ï¼šUUIDä¸åŒ…å«é¡ºåºä¿¡æ¯ï¼Œå› æ­¤ä¸èƒ½ç”¨äºç”Ÿæˆæœ‰åºçš„å…³é”®å­—</p>
</li>
</ol>
</blockquote>
<p>ä¿®æ”¹åä»£ç å¦‚ä¸‹ï¼šå®é™…ä¸Šåªæ˜¯åœ¨è°ƒæ•´æ–‡ä»¶å</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadController</span> &#123;</span><br><span class="line">    <span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">upload</span><span class="params">(String username, Integer age, MultipartFile image)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        log.info(<span class="string">&quot;æäº¤æ–‡ä»¶&quot;</span>);</span><br><span class="line">        <span class="comment">//è·å–åç¼€.xxxæ‰€åœ¨ä½ç½®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> image.getOriginalFilename().lastIndexOf(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">        <span class="comment">//åˆ†å‰²åç¼€</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">extName</span> <span class="operator">=</span> image.getOriginalFilename().substring(index);</span><br><span class="line">        <span class="comment">//æ‹¼æ¥éšæœºç ä¸åç¼€</span></span><br><span class="line">        extName = UUID.randomUUID().toString()+extName;</span><br><span class="line">        <span class="comment">//å­˜æ–‡ä»¶</span></span><br><span class="line">        image.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\IDEA_java\\test\\&quot;</span>+extName));</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>lastIndexOf()ï¼šç”¨äºåŒ¹é…å­—ç¬¦ä¸²ä¸­&#x2F;æœ€åä¸€ä¸ª&#x2F;ä¸ç»™å®šå­—ç¬¦ä¸²ç›¸åŒçš„å­ä¸²&#x2F;çš„ä½ç½®</p>
</li>
<li><p>substring()ï¼šå­—ç¬¦ä¸²åˆ†å‰²ï¼Œä¸€ä¸ªå‚æ•°æ—¶è¿”å›ä»ç»™å®šä½ç½®åˆ°ç»“å°¾çš„å­ä¸²</p>
</li>
</ul>
<p>åœ¨ä¸Šä¼ ä¸€ä¸ªæ¯”è¾ƒå¤§çš„æ–‡ä»¶æ—¶ï¼Œå‘ç°æœåŠ¡å™¨ç«¯æŠ¥é”™äº†ï¼šåŸå› åœ¨äºæœåŠ¡å™¨é™åˆ¶äº†å•æ¬¡ä¼ è¾“çš„æ–‡ä»¶å¤§å°ï¼Œé»˜è®¤æœ€å¤§ä¸º1MB,å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®å¤§å°</p>
<p>å…³é”®è¯ï¼š<strong>multipart</strong></p>
<p>å•æ¬¡ä¼ è¾“é™åˆ¶ï¼šspring.servlet.multipart.max-file-size&#x3D;10MB</p>
<p>å¤šæ–‡ä»¶ä¼ è¾“æ€»å¤§å°é™åˆ¶ï¼šspring.servlet.multipart.max-request-size&#x3D;100MB</p>
<p>è¿™æ ·çš„å­˜å‚¨æ–¹å¼ç§°ä¸ºæœ¬åœ°å­˜å‚¨ï¼Œå½“æ•°æ®é‡è¾ƒå¤§æ—¶å¹¶ä¸æ˜“äºä½¿ç”¨ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨ä¸€å¥—ç‹¬ç«‹çš„å­˜å‚¨ç³»ç»Ÿï¼Œå¯ä»¥è‡ªå·±æ­å»ºï¼ˆFastDFSã€MinIOï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ç°æˆçš„äº‘å­˜å‚¨æœåŠ¡ï¼šé˜¿é‡Œäº‘OSSï¼ˆå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼‰</p>
<p>æœåŠ¡å¼€é€šå®Œæˆåï¼Œè®°ä¸‹accessKey Id ä¸accessKey Secretï¼Œè¿™æ˜¯ä½¿ç”¨è‡ªå·±Bucketçš„å‡­è¯ï¼Œä¸Šä¼ æ–‡ä»¶æ—¶ï¼Œéœ€æä¾›è¿™ä¸¤é¡¹ä¿¡æ¯</p>
<p>åˆ›å»ºä¸€ä¸ªå·¥å…·ç±»ç”¨äºå‘æœåŠ¡å™¨æäº¤æ–‡ä»¶ï¼Œä½¿ç”¨Componentæ³¨è§£å°†å…¶æ·»åŠ å…¥iocå®¹å™¨</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AliOSSUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">endpoint</span> <span class="operator">=</span> <span class="string">&quot;https://oss-cn-guangzhou.aliyuncs.com&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">bucketName</span> <span class="operator">=</span> <span class="string">&quot;mogu-tlias&quot;</span>;</span><br><span class="line">    <span class="comment">//ä»ç¯å¢ƒå˜é‡ä¸­è·å–å‡­è¯</span></span><br><span class="line">    <span class="type">EnvironmentVariableCredentialsProvider</span> <span class="variable">credentialsProvider</span> <span class="operator">=</span> CredentialsProviderFactory.newEnvironmentVariableCredentialsProvider();</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AliOSSUtils</span><span class="params">()</span> <span class="keyword">throws</span> ClientException &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å®ç°ä¸Šä¼ å›¾ç‰‡åˆ°OSS</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">upload</span><span class="params">(MultipartFile file)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// è·å–ä¸Šä¼ çš„æ–‡ä»¶çš„è¾“å…¥æµ</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">inputStream</span> <span class="operator">=</span> file.getInputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// é¿å…æ–‡ä»¶è¦†ç›–</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">originalFilename</span> <span class="operator">=</span> file.getOriginalFilename();</span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> UUID.randomUUID().toString() + originalFilename.substring(originalFilename.lastIndexOf(<span class="string">&quot;.&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸Šä¼ æ–‡ä»¶åˆ° OSS</span></span><br><span class="line">        <span class="type">OSS</span> <span class="variable">ossClient</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OSSClientBuilder</span>().build(endpoint, credentialsProvider);</span><br><span class="line">        ossClient.putObject(bucketName, fileName, inputStream);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ–‡ä»¶è®¿é—®è·¯å¾„</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> endpoint.split(<span class="string">&quot;//&quot;</span>)[<span class="number">0</span>] + <span class="string">&quot;//&quot;</span> + bucketName + <span class="string">&quot;.&quot;</span> + endpoint.split(<span class="string">&quot;//&quot;</span>)[<span class="number">1</span>] + <span class="string">&quot;/&quot;</span> + fileName;</span><br><span class="line">        <span class="comment">// å…³é—­ossClient</span></span><br><span class="line">        ossClient.shutdown();</span><br><span class="line">        <span class="keyword">return</span> url;<span class="comment">// æŠŠä¸Šä¼ åˆ°ossçš„è·¯å¾„è¿”å›</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨å·¥å…·ç±»çš„uploadæ–¹æ³•å³å¯å®Œæˆæ–‡ä»¶ä¸Šä¼ ï¼Œè¦æ³¨æ„å¤„ç†çš„æ˜¯postæ–¹æ³•ï¼ŒåŒæ—¶æ¥æ”¶æ–‡ä»¶ä½¿ç”¨çš„å˜é‡ç±»å‹ä¸ºMultipartFile</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/upload&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">upload</span><span class="params">(MultipartFile image)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        log.info(<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶&#123;&#125;&quot;</span>,image.getOriginalFilename());</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span>  aliOSSUtils.upload(image);</span><br><span class="line">        log.info(<span class="string">&quot;ä¸Šä¼ å®Œæˆï¼Œæ–‡ä»¶å&#123;&#125;&quot;</span>,url);</span><br><span class="line">        <span class="keyword">return</span> Result.success(url);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://szymogu.github.io">Mogu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://szymogu.github.io/2025/07/12/JavaWeb_%E7%AE%80%E5%8D%95demo/">https://szymogu.github.io/2025/07/12/JavaWeb_%E7%AE%80%E5%8D%95demo/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Web%E5%90%8E%E7%AB%AF/">Webåç«¯</a></div><div class="post_share"><div class="social-share" data-image="/pic/default_cover/424358.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/07/18/Java_%E5%BC%82%E5%B8%B8/" title="Java_å¼‚å¸¸"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/824618.png" onerror="onerror=null;src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">Java_å¼‚å¸¸</div></div></a></div><div class="next-post pull-right"><a href="/2025/07/12/JavaWeb_Mybatis/" title="JavaWeb_Mybatis"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/67603.png" onerror="onerror=null;src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="cover of next post"><div class="pagination-info"><div class="label">Next</div><div class="next_info">JavaWeb_Mybatis</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2024/08/10/JavaWeb_Maven/" title="JavaWeb_åˆè¯†Maven"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/42676.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-10</div><div class="title">JavaWeb_åˆè¯†Maven</div></div></a></div><div><a href="/2025/07/23/JavaWeb_Maven%E9%AB%98%E7%BA%A7/" title="JavaWeb_Mavené«˜çº§"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/664698.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-23</div><div class="title">JavaWeb_Mavené«˜çº§</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Mogu</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">51</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Szymogu"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Iâ¤ï¸BlueArchiveï¼</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5"><span class="toc-number">1.</span> <span class="toc-text">æŸ¥</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0"><span class="toc-number">2.</span> <span class="toc-text">åˆ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Controller"><span class="toc-number">2.1.</span> <span class="toc-text">Controller</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Service"><span class="toc-number">2.2.</span> <span class="toc-text">Service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mapper"><span class="toc-number">2.3.</span> <span class="toc-text">Mapper</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E"><span class="toc-number">3.</span> <span class="toc-text">å¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Controller-1"><span class="toc-number">3.1.</span> <span class="toc-text">Controller</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Service-1"><span class="toc-number">3.2.</span> <span class="toc-text">Service</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Mapper-1"><span class="toc-number">3.3.</span> <span class="toc-text">Mapper</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B9"><span class="toc-number">4.</span> <span class="toc-text">æ”¹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B1%95%E7%A4%BA%E6%95%B0%E6%8D%AE"><span class="toc-number">4.1.</span> <span class="toc-text">å±•ç¤ºæ•°æ®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="toc-number">4.2.</span> <span class="toc-text">ä¿®æ”¹æ•°æ®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2"><span class="toc-number">5.</span> <span class="toc-text">åˆ†é¡µæŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#pagehelper"><span class="toc-number">5.1.</span> <span class="toc-text">pagehelper</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%8C%E6%88%90%E6%9D%A1%E4%BB%B6%E6%9F%A5%E8%AF%A2"><span class="toc-number">6.</span> <span class="toc-text">å®Œæˆæ¡ä»¶æŸ¥è¯¢</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%EF%BC%88Emp%EF%BC%89"><span class="toc-number">7.</span> <span class="toc-text">å¢ï¼ˆEmpï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-number">8.</span> <span class="toc-text">æ–‡ä»¶ä¸Šä¼ </span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/07/29/Springboot%E5%AE%9E%E6%88%98_day5/" title="Springbootå®æˆ˜_day5"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/196577.png" onerror="this.onerror=null;this.src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="Springbootå®æˆ˜_day5"/></a><div class="content"><a class="title" href="/2025/07/29/Springboot%E5%AE%9E%E6%88%98_day5/" title="Springbootå®æˆ˜_day5">Springbootå®æˆ˜_day5</a><time datetime="2025-07-28T21:18:38.000Z" title="Created 2025-07-29 05:18:38">2025-07-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/28/Springboot%E5%AE%9E%E6%88%98_day3&amp;4/" title="Springbootå®æˆ˜_day3&amp;4"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/569411.png" onerror="this.onerror=null;this.src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="Springbootå®æˆ˜_day3&amp;4"/></a><div class="content"><a class="title" href="/2025/07/28/Springboot%E5%AE%9E%E6%88%98_day3&amp;4/" title="Springbootå®æˆ˜_day3&amp;4">Springbootå®æˆ˜_day3&amp;4</a><time datetime="2025-07-27T16:16:53.000Z" title="Created 2025-07-28 00:16:53">2025-07-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/25/Springboot%E5%AE%9E%E6%88%98_day2/" title="Springbooté¡¹ç›®å®æˆ˜_day2"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/690897.png" onerror="this.onerror=null;this.src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="Springbooté¡¹ç›®å®æˆ˜_day2"/></a><div class="content"><a class="title" href="/2025/07/25/Springboot%E5%AE%9E%E6%88%98_day2/" title="Springbooté¡¹ç›®å®æˆ˜_day2">Springbooté¡¹ç›®å®æˆ˜_day2</a><time datetime="2025-07-24T19:50:39.000Z" title="Created 2025-07-25 03:50:39">2025-07-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/24/SpringBoot%E5%AE%9E%E6%88%98_day1/" title="SpringBootå®æˆ˜_day1"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/664698.png" onerror="this.onerror=null;this.src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="SpringBootå®æˆ˜_day1"/></a><div class="content"><a class="title" href="/2025/07/24/SpringBoot%E5%AE%9E%E6%88%98_day1/" title="SpringBootå®æˆ˜_day1">SpringBootå®æˆ˜_day1</a><time datetime="2025-07-23T17:09:40.000Z" title="Created 2025-07-24 01:09:40">2025-07-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/23/JavaWeb_Maven%E9%AB%98%E7%BA%A7/" title="JavaWeb_Mavené«˜çº§"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/664698.png" onerror="this.onerror=null;this.src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="JavaWeb_Mavené«˜çº§"/></a><div class="content"><a class="title" href="/2025/07/23/JavaWeb_Maven%E9%AB%98%E7%BA%A7/" title="JavaWeb_Mavené«˜çº§">JavaWeb_Mavené«˜çº§</a><time datetime="2025-07-22T19:05:18.000Z" title="Created 2025-07-23 03:05:18">2025-07-23</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="10187364968" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" mini = "true" order="random" data-theme="#87faac"> </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>