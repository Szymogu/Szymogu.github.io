<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>JavaWeb_Mybatis | Welcome,here is Mogu's Blog</title><meta name="author" content="Mogu"><meta name="copyright" content="Mogu"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="æŒä¹…å±‚æ¡†æ¶">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaWeb_Mybatis">
<meta property="og:url" content="https://szymogu.github.io/2025/07/12/JavaWeb_Mybatis/index.html">
<meta property="og:site_name" content="Welcome,here is Mogu&#39;s Blog">
<meta property="og:description" content="æŒä¹…å±‚æ¡†æ¶">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://szymogu.github.io/pic/default_cover/582400.png">
<meta property="article:published_time" content="2025-07-12T02:39:10.000Z">
<meta property="article:modified_time" content="2025-07-12T02:42:19.632Z">
<meta property="article:author" content="Mogu">
<meta property="article:tag" content="SpringBoot">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://szymogu.github.io/pic/default_cover/582400.png"><link rel="shortcut icon" href="/pic/logo.png"><link rel="canonical" href="https://szymogu.github.io/2025/07/12/JavaWeb_Mybatis/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://chinese-fonts-cdn.deno.dev/packages/jnjj/dist/JUNJUN/result.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy Successful',
    error: 'Copy Error',
    noSupport: 'Browser Not Supported'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: 'Just now',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"You have switched to Traditional Chinese","cht_to_chs":"You have switched to Simplified Chinese","day_to_night":"You have switched to Dark Mode","night_to_day":"You have switched to Light Mode","bgLight":"#87cefa","bgDark":"#1f1f1f","position":"bottom-left"},
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: 'Load More'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'JavaWeb_Mybatis',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2025-07-12 10:42:19'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/card-bg.css"><link rel="stylesheet" href="/css/neon.css"><link rel="stylesheet" href="/css/page-header.css"><link rel="stylesheet" href="/css/page-footer.css"><meta name="generator" content="Hexo 7.2.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="/css/corner-indicator.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/touxiang.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">17</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a></li><li><a class="site-page child" href="/Java_Page/"><i class="fa-fw fas"></i><span> Test1</span></a></li><li><a class="site-page child" href="/Hexo_Page/"><i class="fa-fw fas"></i><span> Test2</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/pic/default_cover/582400.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Welcome,here is Mogu's Blog"><span class="site-name">Welcome,here is Mogu's Blog</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> Gallery</span></a></li><li><a class="site-page child" href="/Java_Page/"><i class="fa-fw fas"></i><span> Test1</span></a></li><li><a class="site-page child" href="/Hexo_Page/"><i class="fa-fw fas"></i><span> Test2</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">JavaWeb_Mybatis</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2025-07-12T02:39:10.000Z" title="Created 2025-07-12 10:39:10">2025-07-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2025-07-12T02:42:19.632Z" title="Updated 2025-07-12 10:42:19">2025-07-12</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E5%90%8E%E7%AB%AF/">Webåç«¯</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Web%E5%90%8E%E7%AB%AF/Mybatis/">Mybatis</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="JavaWeb_Mybatis"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post Views:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h1><p>MyBatisæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„<strong>æŒä¹…å±‚</strong>æ¡†æ¶ï¼Œç”¨äºç®€åŒ–<strong>JDBC</strong>çš„å¼€å‘ã€‚</p>
<blockquote>
<p>æŒä¹…å±‚ï¼šwebå¼€å‘æ¶æ„æ•°æ®è®¿é—®å±‚</p>
<p>JDBCï¼šJDBCï¼ˆJava Database Connectivityï¼‰æ˜¯ä¸€ä¸ªJava APIï¼Œå®ƒæä¾›äº†ä¸€å¥—æ‰§è¡ŒSQLè¯­å¥çš„æ ‡å‡†æ–¹æ³•ï¼Œå…è®¸Javaç¨‹åºè¿æ¥åˆ°æ•°æ®åº“å¹¶ä¸ä¹‹äº¤äº’ï¼Œæ˜¯Javaæ“ä½œæ•°æ®åº“çš„è§„èŒƒ</p>
</blockquote>
<h2 id="å¿«é€Ÿå¼€å§‹ï¼"><a href="#å¿«é€Ÿå¼€å§‹ï¼" class="headerlink" title="å¿«é€Ÿå¼€å§‹ï¼"></a>å¿«é€Ÿå¼€å§‹ï¼</h2><p>é€šè¿‡ä¸€ä¸ªSpringbootç¨‹åºå¿«é€Ÿäº†è§£Mybatis</p>
<p>æ ¸å¿ƒæ­¥éª¤ï¼š</p>
<ul>
<li><p>åˆ›å»ºç”¨æˆ·ç±»ï¼ˆè¡¨ç¤ºè¡¨ä¸­çš„ä¸€åˆ—ï¼‰</p>
</li>
<li><p>å®Œæˆæ•°æ®è®¿é—®å±‚æ¥å£</p>
</li>
<li><p>ä½¿ç”¨å•å…ƒæµ‹è¯•è·å–æ•°æ®è®¿é—®å±‚æ¥å£ä»£ç†å¯¹è±¡ï¼Œè°ƒç”¨ä»£ç†å¯¹è±¡æ–¹æ³•å‘æ•°æ®åº“å‘é€è¯·æ±‚ï¼Œå®Œæˆæ•°æ®è·å–</p>
</li>
</ul>
<p>1.åˆ›å»ºSpringbootå·¥ç¨‹</p>
<p>é€‰æ‹©mavenç»“æ„</p>
<p>ä¸ºä½¿ç”¨Mybatisï¼Œéœ€å‹¾é€‰ä¾èµ–</p>
<ul>
<li><p>MyBatis Framwork</p>
</li>
<li><p>MySQL Driver</p>
</li>
</ul>
<p>2.è¿æ¥åˆ°æ•°æ®åº“</p>
<p>ç›´æ¥ä½¿ç”¨Springbootå·¥ç¨‹æä¾›çš„é…ç½®æ–‡ä»¶ä¸Šå®Œæˆæ•°æ®åº“é…ç½®</p>
<p>main&#x2F;resources&#x2F;application.properties</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#é©±åŠ¨ç±»åç§°</span></span><br><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="comment">#æ•°æ®åº“è¿æ¥çš„url</span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/mybatis</span></span><br><span class="line"><span class="comment">#è¿æ¥æ•°æ®åº“çš„ç”¨æˆ·å</span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">root</span></span><br><span class="line"><span class="comment">#è¿æ¥æ•°æ®åº“çš„å¯†ç </span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">1234</span></span><br></pre></td></tr></table></figure>

<p>3.æ·»åŠ æ•°æ®</p>
<p>ç›´æ¥ä½¿ç”¨ideaä¸­çš„Mysqlæ’ä»¶å®Œæˆæ•°æ®æ·»åŠ </p>
<p>æŸ¥è¯¢æ§åˆ¶å°ã€‹ã€‹ã€‹</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="keyword">user</span>(</span><br><span class="line">                     id <span class="type">int</span> unsigned <span class="keyword">primary</span> key auto_increment comment <span class="string">&#x27;ID&#x27;</span>,</span><br><span class="line">                     name <span class="type">varchar</span>(<span class="number">100</span>) comment <span class="string">&#x27;å§“å&#x27;</span>,</span><br><span class="line">                     age tinyint unsigned comment <span class="string">&#x27;å¹´é¾„&#x27;</span>,</span><br><span class="line">                     gender tinyint unsigned comment <span class="string">&#x27;æ€§åˆ«, 1:ç”·, 2:å¥³&#x27;</span>,</span><br><span class="line">                     phone <span class="type">varchar</span>(<span class="number">11</span>) comment <span class="string">&#x27;æ‰‹æœºå·&#x27;</span></span><br><span class="line">) comment <span class="string">&#x27;ç”¨æˆ·è¡¨&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(id, name, age, gender, phone) <span class="keyword">VALUES</span> (<span class="keyword">null</span>,<span class="string">&#x27;ç™½çœ‰é¹°ç‹&#x27;</span>,<span class="number">55</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;18800000000&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(id, name, age, gender, phone) <span class="keyword">VALUES</span> (<span class="keyword">null</span>,<span class="string">&#x27;é‡‘æ¯›ç‹®ç‹&#x27;</span>,<span class="number">45</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;18800000001&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(id, name, age, gender, phone) <span class="keyword">VALUES</span> (<span class="keyword">null</span>,<span class="string">&#x27;é’ç¿¼è ç‹&#x27;</span>,<span class="number">38</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;18800000002&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(id, name, age, gender, phone) <span class="keyword">VALUES</span> (<span class="keyword">null</span>,<span class="string">&#x27;ç´«è¡«é¾™ç‹&#x27;</span>,<span class="number">42</span>,<span class="string">&#x27;2&#x27;</span>,<span class="string">&#x27;18800000003&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(id, name, age, gender, phone) <span class="keyword">VALUES</span> (<span class="keyword">null</span>,<span class="string">&#x27;å…‰æ˜å·¦ä½¿&#x27;</span>,<span class="number">37</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;18800000004&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> <span class="keyword">user</span>(id, name, age, gender, phone) <span class="keyword">VALUES</span> (<span class="keyword">null</span>,<span class="string">&#x27;å…‰æ˜å³ä½¿&#x27;</span>,<span class="number">48</span>,<span class="string">&#x27;1&#x27;</span>,<span class="string">&#x27;18800000005&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>4.åˆ›å»ºç”¨æˆ·ç±»</p>
<p>åˆ›å»ºä¸€ä¸ªåŒ…ï¼ˆpojoï¼‰ï¼Œå¹¶å°†ç”¨æˆ·ç±»Useræ”¾åœ¨è¿™ä¸ªåŒ…ä¸‹</p>
<blockquote>
<p>pojoï¼šé€šå¸¸ç”¨æ¥è¡¨ç¤ºé‚£äº›åªåŒ…å«getterå’Œsetteræ–¹æ³•ä»¥åŠä¸€äº›ä¸šåŠ¡é€»è¾‘çš„ç®€å•Javaç±»</p>
</blockquote>
<p>åˆ›å»ºç”¨æˆ·ç±»ï¼Œä½¿ç”¨æˆå‘˜å˜é‡æè¿°æ•°æ®ä¸­çš„å±æ€§ï¼Œå¹¶æ·»åŠ ç±»çš„åŸºæœ¬æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Mybatisdemo.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Short age;</span><br><span class="line">    <span class="keyword">private</span> Short gender;</span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(Integer id, String name, Short age, Short gender, String phone)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">        <span class="built_in">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Short <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Short age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Short <span class="title function_">getGender</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGender</span><span class="params">(Short gender)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.gender = gender;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPhone</span><span class="params">(String phone)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.phone = phone;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, gender=&quot;</span> + gender +</span><br><span class="line">                <span class="string">&quot;, phone=&#x27;&quot;</span> + phone + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>5.åˆ›å»ºæŒä¹…å±‚æ¥å£ï¼ˆç¼–å†™SQLè¯­å¥ï¼‰</p>
<p>å†åˆ›å»ºä¸€ä¸ªåŒ…ï¼ˆmapperï¼‰ï¼Œå¹¶åˆ›å»ºæ¥å£UserMapper</p>
<blockquote>
<p>mapperï¼šåœ¨Javaå¼€å‘ä¸­ï¼Œç‰¹åˆ«æ˜¯åœ¨ä½¿ç”¨MyBatisè¿™ç±»æŒä¹…å±‚æ¡†æ¶æ—¶ï¼ŒMapperé€šå¸¸æŒ‡çš„æ˜¯ä¸€ä¸ªJavaæ¥å£ï¼Œå®ƒå®šä¹‰äº†ä¸æ•°æ®åº“äº¤äº’çš„SQLè¯­å¥</p>
</blockquote>
<p>ä¸ºæ¥å£æ·»åŠ æ³¨è§£Mapperï¼Œè¡¨ç¤ºè¿™æ˜¯mybatisçš„ä¸€ä¸ªmapperæ¥å£ï¼Œåœ¨ç¨‹åºè¿è¡Œæ—¶è‡ªåŠ¨ç”Ÿæˆå…¶å®ç°ç±»å¯¹è±¡ï¼ˆä»£ç†å¯¹è±¡ï¼‰ï¼Œå¹¶äº¤ç»™Springçš„iocå®¹å™¨ç®¡ç†ï¼ˆç±»ä¼¼äºSpringä¸­çš„Componentæ³¨è§£ï¼‰</p>
<blockquote>
<ul>
<li><p>Mapperçš„ä¸»è¦ä½œç”¨æ˜¯ä½œä¸ºæ•°æ®è®¿é—®å±‚ï¼ˆDAOï¼ŒData Access Objectï¼‰çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒå°è£…äº†å¯¹æ•°æ®åº“çš„æ‰€æœ‰æ“ä½œï¼Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å±‚å¯ä»¥ä¸å¿…å…³å¿ƒæ•°æ®è®¿é—®çš„å…·ä½“ç»†èŠ‚ï¼Œåªéœ€è°ƒç”¨Mapperæ¥å£æä¾›çš„æ–¹æ³•å³å¯ã€‚</p>
</li>
<li><p>iocå®¹å™¨ï¼šç®¡ç†beanå¯¹è±¡ï¼Œæ§åˆ¶åè½¬ä¸­çš„é‡è¦ç»„æˆï¼Œå®¹å™¨ä¼šè´Ÿè´£åˆ›å»ºä¾èµ–å¯¹è±¡å¹¶æ³¨å…¥åˆ°æ§åˆ¶å¯¹è±¡ä¸­</p>
</li>
<li><p>åŠ¨æ€ä»£ç†ï¼šç”¨äºåœ¨ä¸ç›´æ¥è®¿é—®å®é™…å¯¹è±¡ï¼ˆä¹Ÿç§°ä¸ºä¸»é¢˜æˆ–è¢«ä»£ç†å¯¹è±¡ï¼‰çš„æƒ…å†µä¸‹æä¾›å¯¹å®ƒçš„é—´æ¥è®¿é—®ã€‚åŠ¨æ€ä»£ç†åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åˆ›å»ºä»£ç†ç±»ï¼Œé€šå¸¸ä½¿ç”¨åå°„æœºåˆ¶ã€‚</p>
</li>
<li><p>æ‰«ææ³¨è§£MapperScanï¼šMapperæ³¨è§£æƒ³è¦ç”Ÿæ•ˆï¼ŒåŒæ ·éœ€è¦ä¸€ä¸ªæ‰«ææ³¨è§£MapperScanï¼Œä½œç”¨åŒSpringæä¾›çš„ComponentScanæ³¨è§£ï¼ˆç”¨äºBeanç»„ä»¶çš„æ‰«æï¼‰</p>
<p>æœ‰è¶£çš„æ˜¯ï¼ŒComponentScanä¹Ÿä¼šå»æ‰«Mapperï¼Œè€ŒComponentScanå°±åœ¨å¯åŠ¨ç±»çš„SpringBootApplicationæ³¨è§£ä¸­ï¼Œå› æ­¤åªè¦åœ¨æ ‡å‡†Springé¡¹ç›®ä¸­ï¼Œä¸ç”¨æ˜¾å¼æ·»åŠ MapperScanä¹Ÿèƒ½æ‰«åˆ°Mapper</p>
</li>
</ul>
</blockquote>
<p>é¦–å…ˆåœ¨æ¥å£ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒä¼šè¿”å›ç”¨æˆ·ä¿¡æ¯ï¼Œå› ä¸ºæœ‰å¤šä¸ªç”¨æˆ·ï¼Œä½¿ç”¨é›†åˆå°è£…ç”¨æˆ·æ•°æ®</p>
<p>æ·»åŠ æ³¨è§£@Selectè¡¨ç¤ºæŸ¥è¯¢æ“ä½œï¼Œåé¢æ¥sqlè¯­å¥ï¼Œè¿™é‡Œä¸ºæŸ¥è¯¢userè¡¨ä¸‹æ‰€æœ‰æ•°æ®</p>
<blockquote>
<p>è¿™é‡Œä½¿ç”¨æ³¨è§£å®Œæˆsqlè¯­å¥ç¼–å†™ï¼Œå…¶å®ä¹Ÿå¯ä»¥ä½¿ç”¨XML</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Mybatisdemo.mapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.Mybatisdemo.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Mapper;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Select;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Mapper</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line">    <span class="meta">@Select(&quot;select * from user&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;User&gt; <span class="title function_">list</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>6.å•å…ƒæµ‹è¯•</p>
<p>åœ¨mavené¡¹ç›®ä¸­ï¼Œä¸€èˆ¬åœ¨testç›®å½•ä¸‹å®Œæˆæµ‹è¯•å·¥ä½œ</p>
<p>æ‰“å¼€testç›®å½•ï¼Œå‘ç°åˆ›å»ºäº†ä¸€ä¸ªç±»MybatisDemoApplicationTestsï¼Œè¿™æ˜¯ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œä½¿ç”¨<strong>SpringBootTest</strong>æ³¨è§£</p>
<blockquote>
<p>SpringBootTestæ˜¯Springbootæ•´åˆå•å…ƒæµ‹è¯•çš„æ³¨è§£</p>
</blockquote>
<p>ä½¿ç”¨ä¾èµ–æ³¨å…¥ï¼ˆAutowiredæ³¨è§£ï¼‰è·å–æŒä¹…å±‚æ¥å£UserMapperå¯¹è±¡userMapper</p>
<p>é€šè¿‡ä½¿ç”¨userMapperçš„æˆå‘˜æ–¹æ³•listä½¿ç”¨å‘æ•°æ®åº“å‘é€æŸ¥è¯¢è¯·æ±‚ï¼Œè¿”å›ä¸€ä¸ªç”¨æˆ·çš„é›†åˆåï¼Œä½¿ç”¨æµæ“ä½œéå†è¾“å‡ºæ‰€æœ‰ç”¨æˆ·</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.Mybatisdemo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.Mybatisdemo.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.Mybatisdemo.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.sql.SQLOutput;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MybatisDemoApplicationTests</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span> &#123;</span><br><span class="line">        List&lt;User&gt; list= userMapper.list();</span><br><span class="line">        list.stream().forEach(user -&gt; &#123;</span><br><span class="line">            System.out.println(user);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">User</span>&#123;id<span class="operator">=</span><span class="number">1</span>, name<span class="operator">=</span><span class="string">&#x27;ç™½çœ‰é¹°ç‹&#x27;</span>, age<span class="operator">=</span><span class="number">55</span>, gender<span class="operator">=</span><span class="number">1</span>, phone<span class="operator">=</span><span class="string">&#x27;18800000000&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">User</span>&#123;id<span class="operator">=</span><span class="number">2</span>, name<span class="operator">=</span><span class="string">&#x27;é‡‘æ¯›ç‹®ç‹&#x27;</span>, age<span class="operator">=</span><span class="number">45</span>, gender<span class="operator">=</span><span class="number">1</span>, phone<span class="operator">=</span><span class="string">&#x27;18800000001&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">User</span>&#123;id<span class="operator">=</span><span class="number">3</span>, name<span class="operator">=</span><span class="string">&#x27;é’ç¿¼è ç‹&#x27;</span>, age<span class="operator">=</span><span class="number">38</span>, gender<span class="operator">=</span><span class="number">1</span>, phone<span class="operator">=</span><span class="string">&#x27;18800000002&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">User</span>&#123;id<span class="operator">=</span><span class="number">4</span>, name<span class="operator">=</span><span class="string">&#x27;ç´«è¡«é¾™ç‹&#x27;</span>, age<span class="operator">=</span><span class="number">42</span>, gender<span class="operator">=</span><span class="number">2</span>, phone<span class="operator">=</span><span class="string">&#x27;18800000003&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">User</span>&#123;id<span class="operator">=</span><span class="number">5</span>, name<span class="operator">=</span><span class="string">&#x27;å…‰æ˜å·¦ä½¿&#x27;</span>, age<span class="operator">=</span><span class="number">37</span>, gender<span class="operator">=</span><span class="number">1</span>, phone<span class="operator">=</span><span class="string">&#x27;18800000004&#x27;</span>&#125;</span><br><span class="line"><span class="keyword">User</span>&#123;id<span class="operator">=</span><span class="number">6</span>, name<span class="operator">=</span><span class="string">&#x27;å…‰æ˜å³ä½¿&#x27;</span>, age<span class="operator">=</span><span class="number">48</span>, gender<span class="operator">=</span><span class="number">1</span>, phone<span class="operator">=</span><span class="string">&#x27;18800000005&#x27;</span>&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>é…ç½®SQLæç¤º</p>
<p>å…¥é—¨ç¨‹åºä¸­Selectæ³¨è§£åç¼–å†™sqlè¯­å¥æ—¶å¦‚æœæ²¡æœ‰æç¤ºï¼Œæ˜¯å› ä¸ºideaä¸çŸ¥é“è¿™æ˜¯sqlè¯­å¥ï¼Œå¯ä»¥æ·»åŠ é…ç½®ä»¤åŒºåŸŸä¸ºMysqlï¼Œåœ¨è¾“å…¥è¯­å¥æ—¶å°±ä¼šæœ‰è¯­æ³•æç¤º</p>
<p>æ˜¾ç¤ºä¸Šä¸‹æ–‡æ“ä½œã€‹ã€‹æ³¨å…¥è¯­è¨€æˆ–å¼•ç”¨ã€‹ã€‹Mysql</p>
<p>æ­¤å¤–ï¼Œè®©é¡¹ç›®è¿æ¥ä¸Šæ•°æ®åº“ï¼Œè¿˜èƒ½æç¤ºè¡¨ä¿¡æ¯</p>
</blockquote>
<h2 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h2><p>(Java DataBase Connectivity)ï¼Œå°±æ˜¯ä½¿ç”¨Javaè¯­è¨€æ“ä½œå…³ç³»å‹æ•°æ®åº“çš„ä¸€å¥—APIï¼Œjavaç¨‹åºä¸­éœ€è¦ä½¿ç”¨è¿™å¥—APIä¸æ•°æ®åº“è¿›è¡Œäº¤äº’ï¼Œè€ŒMysqlã€Oracleç­‰æ•°æ®åº“äº§å“å®é™…ä¸Šå°±æ˜¯å°è£…äº†è¿™å¥—Apiã€‚æˆ‘ä»¬åœ¨javaç¨‹åºä¸­è¿æ¥å„ç§æ•°æ®åº“æ—¶ï¼Œè¡¨é¢ä¸Šè¯­æ³•ä¸€è‡´ï¼ˆJDBCæ¥å£ï¼‰ï¼Œåº•å±‚ä½¿ç”¨çš„å…¶å®æ˜¯ä¸åŒå‚å•†çš„å®ç°ï¼ŒMysqlæä¾›Mysqlå®ç°ï¼ŒOracleæä¾›Oracleçš„å®ç°ã€‚å®é™…ä¸ŠJDBCæä¾›çš„åªæ˜¯ä¸€ä¸ªæ ‡å‡†ï¼Œä¸€å¥—æ¥å£â€”â€”å†…éƒ¨æ²¡æœ‰å…·ä½“å®ç°ï¼Œä¸åŒäº§å“æ ¹æ®è¿™å¥—æ ‡å‡†å®Œæˆäº†è‡ªå·±çš„APIâ€”â€”JDBCå®ç°ï¼Œä¹Ÿç§°<strong>æ•°æ®åº“é©±åŠ¨</strong></p>
<ul>
<li><p>sunå…¬å¸å®˜æ–¹å®šä¹‰çš„ä¸€å¥—æ“ä½œæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„è§„èŒƒï¼Œå³æ¥å£</p>
</li>
<li><p>å„ä¸ªæ•°æ®åº“å‚å•†å»å®ç°è¿™å¥—æ¥å£ï¼Œæä¾›æ•°æ®åº“é©±åŠ¨jaråŒ…ã€‚</p>
</li>
<li><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨è¿™å¥—æ¥å£(JDBC)ç¼–ç¨‹ï¼ŒçœŸæ­£æ‰§è¡Œçš„ä»£ç æ˜¯é©±åŠ¨jaråŒ…ä¸­çš„å®ç°ç±»</p>
</li>
</ul>
<p>ç›´æ¥ä½¿ç”¨JDBCå¦‚ä½•ä¸æ•°æ®åº“äº¤äº’ï¼Œå¤§è‡´åˆ†4æ­¥</p>
<ul>
<li><p>æ³¨å†Œé©±åŠ¨ï¼šJDBCåªæ˜¯ä¸ªæ ‡å‡†ï¼Œéœ€è¦æä¾›æ•°æ®åº“é©±åŠ¨æ‰èƒ½ä½¿ç”¨</p>
</li>
<li><p>è·å–è¿æ¥ï¼šå¡«å†™æ•°æ®åº“ä¿¡æ¯</p>
</li>
<li><p>è·å–æ‰§è¡ŒSQLçš„å¯¹è±¡Statementï¼Œæ‰§è¡ŒSQLï¼šè¯·æ±‚å¹¶è·å–æ•°æ®ï¼Œè§£ææ•°æ®</p>
</li>
<li><p>é‡Šæ”¾èµ„æºï¼šå…³é—­ä¸æ•°æ®åº“çš„è¿æ¥</p>
</li>
</ul>
<p>å†æ¥çœ‹çœ‹Mybatisæ˜¯æ€ä¹ˆå®Œæˆè¿™äº›æ­¥éª¤çš„</p>
<ul>
<li>åœ¨é…ç½®ä¿¡æ¯ä¸­å®Œæˆæ³¨å†Œé©±åŠ¨ã€è·å–è¿æ¥ï¼›</li>
</ul>
<p>è¿™æ ·åšèƒ½é¿å…åœ¨javaç¨‹åºä¸­ç¡¬ç¼–ç æ•°æ®åº“ä¿¡æ¯ï¼Œå› ä¸ºæ•°æ®åº“æ˜¯éœ€è¦ç»å¸¸æ”¹å˜çš„ï¼Œæ‰€ä»¥æå–åˆ°å¤–éƒ¨æ›´æ–¹ä¾¿æ”¹åŠ¨</p>
<ul>
<li><p>JDBCä¸­è·å–çš„æ•°æ®æ˜¯ä¸€ä¸ªResultSetç±»ï¼Œéœ€è¦æ‰‹åŠ¨è§£æå†…éƒ¨æ•°æ®ï¼Œè¿˜è¦æ‰‹åŠ¨å°è£…åˆ°é›†åˆï¼Œéå¸¸éº»çƒ¦ï¼›è€ŒMybatisè¿”å›çš„å¯¹è±¡æ˜¯æˆ‘ä»¬ç¼–å†™çš„å¯¹è±¡ï¼Œä¸ç”¨è§£æï¼Œå¹¶å¯ä»¥ç›´æ¥å°è£…åˆ°é›†åˆä¸­</p>
</li>
<li><p>JDBCä¸­æ¯ä¸€æ¬¡è¯¢é—®éƒ½è¦å…ˆå»ºç«‹è¿æ¥ï¼Œæœ€åé‡Šæ”¾è¿æ¥ï¼Œé¢‘ç¹æ“ä½œä¼šé€ æˆèµ„æºæµªè´¹ï¼›Mybatisåœ¨é…ç½®æ•°æ®åº“ä¿¡æ¯æ—¶ä½¿ç”¨äº†(spring.datasource.)æ¥å…¥äº†springåº•å±‚çš„æ•°æ®åº“è¿æ¥æ± ï¼Œæ•°æ®åº“è¿æ¥æ± ä¼šç»Ÿä¸€<strong>ç®¡ç†</strong>å’Œ<strong>åˆ†é…</strong>è¿™äº›è¿æ¥ï¼ˆæœ‰ç‚¹åƒiocå®¹å™¨ï¼Œä½†ä¸»è¦ç›®çš„ä¸åŒï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç¨‹åºä¸æ•°æ®åº“Aå»ºç«‹è¿æ¥æ—¶ï¼Œè¿æ¥æ± ä¼šç»™ç¨‹åºåˆ†é…ä¸Açš„è¿æ¥ï¼Œç¨‹åºå®Œæˆäº¤äº’ï¼Œè¿æ¥æ± å†å›æ”¶è¿æ¥ï¼Œä½¿ç”¨æ•°æ®åº“è¿æ¥æ± çš„å¥½å¤„å¦‚ä¸‹ï¼š</p>
<ol>
<li><strong>å‡å°‘è¿æ¥å¼€é”€</strong>ï¼šé¿å…æ¯æ¬¡æ•°æ®åº“äº¤äº’éƒ½è¿›è¡Œè¿æ¥åˆ›å»ºå’Œé”€æ¯ï¼Œä»è€Œå‡å°‘ç³»ç»Ÿèµ„æºæ¶ˆè€—å’Œæ—¶é—´å»¶è¿Ÿ</li>
<li><strong>æé«˜æ€§èƒ½</strong>ï¼šé€šè¿‡é‡ç”¨è¿æ¥ï¼Œå‡å°‘äº†è¿æ¥åˆ›å»ºçš„æ—¶é—´ï¼Œæé«˜äº†åº”ç”¨çš„å“åº”é€Ÿåº¦</li>
<li><strong>è¿æ¥é™åˆ¶</strong>ï¼šæ§åˆ¶åŒæ—¶æ‰“å¼€çš„æ•°æ®åº“è¿æ¥æ•°é‡ï¼Œé¿å…è¿‡å¤šçš„å¹¶å‘è¿æ¥å¯¼è‡´æ•°æ®åº“æœåŠ¡å™¨è¿‡è½½</li>
<li><strong>æ•…éšœæ¢å¤</strong>ï¼šå®ç°è¿æ¥çš„è‡ªåŠ¨é‡è¿å’Œå¤±æ•ˆè¿æ¥çš„å‰”é™¤ï¼Œä¿è¯è¿æ¥çš„ç¨³å®šæ€§</li>
</ol>
</li>
</ul>
<h3 id="æ•°æ®åº“è¿æ¥æ± "><a href="#æ•°æ®åº“è¿æ¥æ± " class="headerlink" title="æ•°æ®åº“è¿æ¥æ± "></a>æ•°æ®åº“è¿æ¥æ± </h3><ul>
<li><p><em><strong>èµ„æºé‡ç”¨</strong></em></p>
<p>æ•°æ®åº“è¿æ¥æ± æ˜¯ä¸ªå®¹å™¨ï¼Œè´Ÿè´£åˆ†é…ã€ç®¡ç†æ•°æ®åº“è¿æ¥(Connection)</p>
</li>
<li><p><em><strong>æå‡ç³»ç»Ÿå“åº”é€Ÿåº¦</strong></em></p>
<p>å®ƒå…è®¸åº”ç”¨ç¨‹åºé‡å¤ä½¿ç”¨ä¸€ä¸ªç°æœ‰çš„æ•°æ®åº“è¿æ¥ï¼Œè€Œä¸æ˜¯å†é‡æ–°å»ºç«‹ä¸€ä¸ª</p>
</li>
<li><p><em><strong>é¿å…æ•°æ®åº“è¿æ¥é—æ¼</strong></em></p>
<p>é‡Šæ”¾ç©ºé—²æ—¶é—´è¶…è¿‡æœ€å¤§ç©ºé—²æ—¶é—´çš„è¿æ¥ï¼Œæ¥é¿å…å› ä¸ºæ²¡æœ‰é‡Šæ”¾è¿æ¥è€Œå¼•èµ·çš„æ•°æ®åº“è¿æ¥é—æ¼</p>
</li>
</ul>
<p>æ ‡å‡†æ¥å£: DataSource<br>å®˜æ–¹(sun)æä¾›çš„æ•°æ®åº“è¿æ¥æ± æ¥å£ï¼Œç¬¬ä¸‰æ–¹ç»„ç»‡éœ€å®ç°æ­¤æ¥å£</p>
<p>å®ç°æ ¸å¿ƒæ–¹æ³•:è·å–è¿æ¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Connection <span class="title function_">getconnection</span><span class="params">()</span><span class="keyword">throws</span> SQLException;</span><br></pre></td></tr></table></figure>

<p>å¸¸è§æ•°æ®åº“è¿æ¥æ± </p>
<ul>
<li><p>C3P0</p>
</li>
<li><p>DBCP</p>
</li>
<li><p>Druid</p>
</li>
<li><p>Hikari (springbooté»˜è®¤)</p>
</li>
</ul>
<p>åä¸¤ä¸ªç”¨çš„æ¯”è¾ƒå¤šï¼Œæ—¢ç„¶springbooté¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº†Hikariï¼Œç´¢æ€§ç…ä¸€çœ¼ğŸ‘€</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HikariDataSource</span> <span class="keyword">extends</span> <span class="title class_">HikariConfig</span> <span class="keyword">implements</span> <span class="title class_">DataSource</span>, Closeable &#123;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¡®å®å®ç°äº†DataSourceæ¥å£ï¼Œä½ è¿‡å…³</p>
<p>å¦‚æœè§‰å¾—å¾·é²ä¼Šæ¯”è¾ƒå¥½å¬ï¼Œæƒ³ä¿®æ”¹è¿æ¥æ± ä¸ºDruidæ€ä¹ˆåŠï¼Ÿä¸¤æ­¥å³å¯</p>
<ul>
<li><p>æ·»åŠ Druidä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.8<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨SpringBooté¡¹ç›®é…ç½®ä¸­æ·»åŠ æ•°æ®åº“é…ç½®ï¼ˆè·ŸHikariä¸€è‡´ï¼‰</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring.datasource.driver-class-name</span>=<span class="string">com.mysql.cj.jdbc.Driver  </span></span><br><span class="line"><span class="attr">spring.datasource.url</span>=<span class="string">jdbc:mysql://localhost:3306/mybatis  </span></span><br><span class="line"><span class="attr">spring.datasource.username</span>=<span class="string">root  </span></span><br><span class="line"><span class="attr">spring.datasource.password</span>=<span class="string">1234</span></span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>è¿æ¥æ± &amp;iocå®¹å™¨&amp;çº¿ç¨‹æ± </p>
<p>åœ¨è®²è§£è¿æ¥æ± æ—¶ï¼Œæˆ‘è”æƒ³åˆ°äº†iocå®¹å™¨ï¼Œå› ä¸ºå®ƒä»¬éƒ½èµ·åˆ°äº†åˆ›å»ºï¼Œç®¡ç†æŸä¸ªå¯¹è±¡çš„ä½œç”¨ã€‚</p>
<p>å®é™…ä¸Šçº¿ç¨‹æ± æ›´è´´è¿‘è¿æ¥æ± ï¼Œçº¿ç¨‹æ± çš„ä¸»è¦ç›®çš„æ˜¯å‡å°‘åœ¨åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹æ—¶æ‰€äº§ç”Ÿçš„æ€§èƒ½å¼€é”€ã€‚é€šè¿‡å‡å°‘åˆ›å»ºå’Œé”€æ¯è¿‡ç¨‹è¾¾åˆ°å‡å°‘æ€§èƒ½å¼€é”€çš„ç›®çš„ï¼Œè¿™å°±æ˜¯è¿æ¥æ± å’Œçº¿ç¨‹æ± çš„å…±åŒç‚¹ï¼Œè€Œiocå®¹å™¨çš„ä¸»è¦ç›®çš„æ˜¯è§£è€¦åˆ</p>
</blockquote>
<h2 id="lombokå·¥å…·"><a href="#lombokå·¥å…·" class="headerlink" title="lombokå·¥å…·"></a>lombokå·¥å…·</h2><p>åœ¨ä½¿ç”¨Mybatisæ—¶ï¼Œä¸ºæè¿°ä¸€å¼ ç”¨æˆ·ä¿¡æ¯è¡¨ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ªç”¨æˆ·ç±»ï¼Œè¿™ä¸ªç±»é‡Œé¢è™½ç„¶åªæœ‰äº”ä¸ªå±æ€§ï¼Œä½†æ˜¯æ·»åŠ äº†å¾ˆå¤šåŸºæœ¬æ–¹æ³•ï¼Œè¿™ä½¿å¾—ä»£ç å¾ˆè‡ƒè‚¿</p>
<p>Lombokæ˜¯ä¸€ä¸ªå®ç”¨çš„]avaç±»åº“ï¼Œèƒ½é€šè¿‡æ³¨è§£çš„å½¢å¼è‡ªåŠ¨ç”Ÿæˆæ„é€ å™¨ã€getter&#x2F;setterã€equalsã€hashcodeã€toStringç­‰æ–¹æ³•ï¼Œå¹¶å¯ä»¥è‡ªåŠ¨åŒ–ç”Ÿæˆæ—¥å¿—å˜é‡ï¼Œç®€åŒ–javaå¼€å‘ã€æé«˜æ•ˆç‡</p>
<p>ä¹Ÿå°±æ˜¯è¯´ï¼Œåªéœ€è¦æ·»åŠ å‡ ä¸ªæ³¨è§£ï¼Œåœ¨ç¼–è¯‘æ—¶ä¼šæ ¹æ®æ³¨è§£è‡ªåŠ¨è¡¥å…¨é‚£äº›æ–¹æ³•</p>
<p><em><strong>ä½¿ç”¨æ–¹æ³•</strong></em></p>
<p>é¦–å…ˆå¼•å…¥ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>åœ¨ç±»ä¸Šä½¿ç”¨ä»¥ä¸‹æ³¨è§£</p>
<ul>
<li><p>Getter&#x2F;Setter</p>
<p>ä¸ºæ‰€æœ‰çš„å±æ€§æä¾›get&#x2F;setæ–¹æ³•</p>
</li>
<li><p>ToString</p>
<p>ä¼šç»™ç±»è‡ªåŠ¨ç”Ÿæˆæ˜“é˜…è¯»çš„ toString æ–¹æ³•</p>
</li>
<li><p>EqualsAndHashCode</p>
<p>æ ¹æ®ç±»æ‰€æ‹¥æœ‰çš„éé™æ€å­—æ®µè‡ªåŠ¨é‡å†™ equals æ–¹æ³•å’Œ hashcode æ–¹æ³•</p>
</li>
<li><p>*Data</p>
<p>æä¾›äº†æ›´ç»¼åˆçš„ç”Ÿæˆä»£ç åŠŸèƒ½(@Getter+@Setter+@ToString+@EqualsAndHashCode)</p>
<p>å¤ªè±ªç”¨äº†</p>
</li>
<li><p>*NoArgsConstructor</p>
<p>ä¸ºå®ä½“ç±»ç”Ÿæˆæ— å‚çš„æ„é€ å™¨æ–¹æ³•</p>
</li>
<li><p>*AllArgsConstructor</p>
<p>ä¸ºå®ä½“ç±»ç”Ÿæˆé™¤äº†staticä¿®é¥°çš„å­—æ®µä¹‹å¤–å¸¦æœ‰å„å‚æ•°çš„æ„é€ å™¨æ–¹æ³•</p>
</li>
</ul>
<blockquote>
<p>*ï¼šæ¯”è¾ƒé‡è¦</p>
</blockquote>
<p>æ¥çœ‹çœ‹ä¿®æ”¹åçš„userç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Short age;</span><br><span class="line">    <span class="keyword">private</span> Short gender;</span><br><span class="line">    <span class="keyword">private</span> String phone;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åŸºç¡€æ“ä½œ"><a href="#åŸºç¡€æ“ä½œ" class="headerlink" title="åŸºç¡€æ“ä½œ"></a>åŸºç¡€æ“ä½œ</h2><p>å¢åˆ æŸ¥æ”¹</p>
<h3 id="åˆ é™¤"><a href="#åˆ é™¤" class="headerlink" title="åˆ é™¤"></a>åˆ é™¤</h3><p>ä½¿ç”¨Deleteæ³¨è§£æ‰§è¡Œåˆ é™¤æ“ä½œ</p>
<p>é€šè¿‡å‡½æ•°æ¥æ”¶å‚æ•°ï¼Œå¹¶ä½¿ç”¨å ä½ç¬¦#{ }åŠ¨æ€ä¿®æ”¹åˆ é™¤é¡¹ï¼Œå‡½æ•°çš„è¿”å›å€¼è¡¨ç¤ºå½±å“æ•°æ®æ¡æ•°ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸è¦ï¼ˆvoidï¼‰</p>
<p>æ•°æ®è®¿é—®å±‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Delete(&quot;delete from emp where id = #&#123;uid&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">deleteUserById</span><span class="params">(<span class="type">int</span> uid)</span>;</span><br></pre></td></tr></table></figure>

<p>é€»è¾‘å±‚ï¼ˆå¤§æ¦‚å§ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">deleteUser</span><span class="params">()</span> &#123;</span><br><span class="line">   <span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> userMapper.deleteUserById(<span class="number">16</span>);</span><br><span class="line">   System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é¢„ç¼–è¯‘sql</strong></p>
<p>è¿™ç§æºå¸¦#{ }çš„sqlè¯­å¥ç§°ä¸ºé¢„ç¼–è¯‘sqlï¼Œé‡‡ç”¨é¢„ç¼–è¯‘sqlæœ‰ä¸¤å¤§ä¼˜åŠ¿ï¼š</p>
<p><em><strong>1.æ€§èƒ½é«˜</strong></em></p>
<p>ä¸åªæ˜¯å¢åŠ äº†ä»£ç çš„å¤ç”¨æ€§ï¼Œè¿™é‡Œçš„æ€§èƒ½ä¸sqlåº•å±‚çš„ç¼–è¯‘æœºåˆ¶æœ‰å…³</p>
<p>sqlè¯­å¥çš„æ‰§è¡Œæµç¨‹</p>
<ul>
<li><p>SQLè¯­æ³•è§£ææ£€æŸ¥</p>
</li>
<li><p>ä¼˜åŒ–SQL</p>
</li>
<li><p>ç¼–è¯‘SQL</p>
</li>
<li><p>æ‰§è¡ŒSQL</p>
</li>
</ul>
<p>javaå‘æ•°æ®åº“æœåŠ¡å™¨å‘é€SQLè¯­å¥åï¼ŒæœåŠ¡å™¨éœ€è¦å¯¹SQLè¯­å¥è¿›è¡Œå¤„ç†æ‰ä¼šæ‰§è¡Œï¼Œå¤„ç†åˆ†ä¸ºè¯­æ³•æ£€æŸ¥ï¼Œä¼˜åŒ–ï¼Œç¼–è¯‘è¿™ä¸‰æ­¥ï¼Œè€Œä¼˜åŒ–ç¼–è¯‘åçš„è¯­å¥ä¼šè¢«ç¼“å­˜èµ·æ¥ï¼Œå½“æ¥æ”¶åˆ°ç¼–è¯‘è¿‡çš„sqlè¯­å¥æ—¶ï¼Œå°±ä¸å¿…è¿›è¡Œå¤„ç†ï¼Œå¯ä»¥ç›´æ¥æ‰§è¡Œç¼“å­˜è¿‡çš„è¯­å¥</p>
<p>å¦‚æœä¸ä½¿ç”¨é¢„ç¼–è¯‘æ–¹å¼ï¼Œè€Œæ˜¯ç›´æ¥å†™å…¥æ•°æ®ï¼Œåˆ é™¤ä¸åŒidçš„è¯­å¥ä¼šè¢«å¤šæ¬¡ç¼–è¯‘</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä½¿ç”¨é¢„ç¼–è¯‘ï¼Œ<code>#&#123;&#125;</code>åœ¨ç¼–è¯‘åä¼šè¢«æ›¿æ¢ä¸º<code>?</code>ï¼Œå› æ­¤è¿™ä¸‰æ¡è¯­å¥ç¼–è¯‘åå…¶å®æ˜¯ä¸€æ ·çš„ï¼Œæ‰§è¡Œé˜¶æ®µï¼Ÿå°†è¢«æ›¿æ¢ä¸ºåŸæ¥çš„å‚æ•°å€¼ï¼Œè¿™æ ·å°±åªç¼–è¯‘äº†ä¸€æ¬¡ï¼Œæé«˜äº†æ€§èƒ½</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="operator">=</span> #&#123;<span class="number">1</span>&#125;;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="operator">=</span> #&#123;<span class="number">2</span>&#125;;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id <span class="operator">=</span> #&#123;<span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure>

<p><em><strong>2.æ›´å®‰å…¨</strong></em></p>
<p>ç”¨äºé˜²æ­¢<strong>sqlæ³¨å…¥</strong></p>
<p>sqlæ³¨å…¥ï¼šé€šè¿‡æ“ä½œè¾“å…¥çš„æ•°æ®æ¥ä¿®æ”¹äº‹å…ˆå®šä¹‰å¥½çš„SQLè¯­å¥ï¼Œä»¥è¾¾åˆ°æ‰§è¡Œä»£ç å¯¹æœåŠ¡å™¨è¿›è¡Œæ”»å‡»çš„æ–¹æ³•</p>
<p>ç°åœ¨æœ‰ä¸€ä¸ªç™»å½•ç•Œé¢ï¼Œéœ€è¦è¾“å…¥è´¦å·å’Œå¯†ç </p>
<p>è´¦å·ï¼šå°ç‹</p>
<p>å¯†ç ï¼š532</p>
<p>å½“ç‚¹å‡»ç™»å½•æŒ‰é’®æ—¶ï¼Œå‘æ•°æ®åº“æäº¤ä¸€ä¸ªè¡¨å•ï¼Œä¹Ÿå°±æ˜¯è´¦å·å’Œå¯†ç ï¼Œæ•°æ®åº“ä¼šä½¿ç”¨æ¡ä»¶æŸ¥è¯¢æ˜¯å¦å­˜åœ¨åŒæ—¶ç¬¦åˆè¯¥è´¦å·ä¸è¯¥å¯†ç çš„ç”¨æˆ·ï¼Œæœ‰ï¼ˆéé›¶ï¼‰åˆ™å…è®¸ç™»å…¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select count(*) from mybatisdemo.emp where username= $&#123;name&#125; and password = $&#123;password&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findUserById</span><span class="params">(String name,String password)</span>;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨<code>$&#123; &#125;</code> å¯ä»¥å°†è¡¨å•é¡¹ç›´æ¥æ‹¼æ¥åˆ°æŸ¥è¯¢è¯­å¥ä¸­</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> mybatisdemo.emp <span class="keyword">where</span> username<span class="operator">=</span> <span class="string">&#x27;å°ç‹&#x27;</span> <span class="keyword">and</span> password <span class="operator">=</span> <span class="string">&#x27;532&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>è¾“å…¥æ­£ç¡®è´¦å·å¯†ç è‚¯å®šæ˜¯å¯ä»¥ç™»å½•çš„ï¼Œä½†æœ‰æ²¡æœ‰ä¸€ç§å¯èƒ½ï¼Œç”±äºè¿™é‡Œä½¿ç”¨çš„æ˜¯å­—ç¬¦ä¸²æ‹¼æ¥çš„æ–¹å¼</p>
<p>ï¼Œèƒ½å¦è¡¥å……ä¸€å°æ®µsqlè¯­å¥è¾¾åˆ°ä¿®æ”¹åŸè¯­å¥çš„æ•ˆæœå‘¢</p>
<p>å¦‚æœè¾“å…¥å¯†ç ä¸º</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;</span> <span class="keyword">or</span> <span class="number">1</span> <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>åˆ™æ‹¼æ¥åå¾—åˆ°çš„sqlè¯­å¥ä¸º</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> mybatisdemo.emp <span class="keyword">where</span> username<span class="operator">=</span> <span class="string">&#x27;éšä¾¿&#x27;</span> <span class="keyword">and</span> password <span class="operator">=</span> <span class="string">&#x27;&#x27;</span> <span class="keyword">or</span> <span class="number">1</span> <span class="operator">=</span> <span class="number">1</span>; </span><br></pre></td></tr></table></figure>

<p>1&#x3D;1è‚¯å®šæˆç«‹ï¼ŒæŸ¥è¯¢ç»“æœéé›¶ï¼Œå¦‚æœæ²¡æœ‰å…¶ä»–è®¤è¯æ­¥éª¤ï¼Œå°±æˆåŠŸè¿›å…¥ç³»ç»Ÿäº†</p>
<p>è€Œä½¿ç”¨ <strong>#{ }</strong> ï¼Œæ˜¯æ— æ³•æˆåŠŸçš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select count(*) from mybatisdemo.emp where username= #&#123;name&#125; and password = #&#123;password&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">findUserByNameAndPassword</span><span class="params">(String name,String password)</span>;</span><br></pre></td></tr></table></figure>

<p>è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå…¶å®åœ¨è®²æ€§èƒ½ä¼˜åŠ¿æ—¶å·²ç»ç»™å‡ºç­”æ¡ˆäº†â€”â€”ç¼–è¯‘æµç¨‹</p>
<p>javaç¨‹åºä¼ é€’ç»™æ•°æ®åº“çš„çš„sqlè¯­å¥éœ€è¦ç»è¿‡æ•°æ®åº“å¤„ç†æ‰ä¼šæ‰§è¡Œï¼Œä½¿ç”¨ <code>#&#123;&#125;</code>æ—¶ï¼Œå‚æ•°ä¸ä¼šå‚ä¸ç¼–è¯‘ï¼Œåªåœ¨æ‰§è¡ŒæœŸæ·»åŠ ï¼Œè¿™æ„å‘³ç€ SQL è¯­å¥çš„ç»“æ„åœ¨æ•°æ®åº“å±‚é¢ä¸Šæ˜¯å›ºå®šçš„ï¼Œåªæœ‰å‚æ•°éƒ¨åˆ†æ˜¯åŠ¨æ€æ›¿æ¢çš„ï¼›è€Œä½¿ç”¨<code>$&#123;&#125;</code>æ—¶ï¼ŒMyBatis ä¼šå°†æ•´ä¸ª SQL è¯­å¥ï¼ˆåŒ…æ‹¬å‚æ•°ï¼‰åŸå°ä¸åŠ¨åœ°ä¼ é€’ç»™æ•°æ®åº“è¿›è¡Œç¼–è¯‘å’Œæ‰§è¡Œã€‚è¿™æ„å‘³ç€ SQL è¯­å¥ä¸­çš„ <code>$&#123;&#125;</code>éƒ¨åˆ†ä¼šè¢«ç›´æ¥è§£é‡Šä¸º SQL ä»£ç çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯ä½œä¸ºä¸€ä¸ªé¢„ç¼–è¯‘çš„å‚æ•°ï¼Œè¿™æ‰è®©æˆ‘æœ‰äº†å¯ä¹˜ä¹‹æœºğŸ‘»</p>
<h3 id="æ–°å¢"><a href="#æ–°å¢" class="headerlink" title="æ–°å¢"></a>æ–°å¢</h3><p>ä½¿ç”¨Insertæ³¨è§£æ‰§è¡Œæ–°å¢è¯­å¥</p>
<p>æ—¢ç„¶éœ€è¦æ·»åŠ ä¸€è¡Œæ•°æ®ï¼Œå°±å¯èƒ½æ‹¥æœ‰å¤šä¸ªå­—æ®µï¼Œå°±éœ€è¦å¤šä¸ªå‚æ•°ï¼Œå°†è¿™äº›å‚æ•°æ·»åŠ åˆ°sqlè¯­å¥ä¸­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Insert(&quot;insert into emp(username, name, gender, image, job, entrydate, dept_id, create_time, update_time) &quot; +</span></span><br><span class="line"><span class="meta">&quot;values(#&#123;username&#125;, #&#123;name&#125;, #&#123;gender&#125;, #&#123;image&#125;, #&#123;job&#125;, #&#123;entrydate&#125;, #&#123;deptId&#125;, #&#123;createTime&#125;, #&#123;updateTime&#125;)&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(Emp emp)</span>;</span><br></pre></td></tr></table></figure>

<p>values æ˜¯ SQL è¯­è¨€ä¸­çš„ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºæ’å…¥è¯­å¥ï¼ˆINSERTï¼‰ä¸­ï¼ŒæŒ‡å®šè¦æ’å…¥åˆ°è¡¨ä¸­çš„å€¼</p>
<p>è™½ç„¶å¯ä»¥å°†è¿™äº›å±æ€§åˆ†æˆå¤šä¸ªå½¢å‚æ¥æ”¶ï¼Œä½†æ˜¯è¿™æ ·æ—¢éº»çƒ¦åˆéš¾ç»´æŠ¤ï¼Œå› æ­¤é€‰æ‹©ä¼ é€’å¯¹è±¡(emp)ï¼Œåœ¨<code>#&#123;&#125;</code>ä¸­å¡«å…¥å¯¹è±¡çš„å±æ€§ï¼Œå±æ€§ä¸å­—æ®µæ˜¯å¯¹åº”çš„</p>
<p><strong>ä¸»é”®è¿”å›</strong></p>
<p>å®Œæˆæ•°æ®æ·»åŠ åï¼Œéœ€è¦è·å–æ’å…¥æ•°æ®åº“æ•°æ®çš„ä¸»é”®</p>
<p>ä½¿ç”¨Optionsæ³¨è§£</p>
<p>keyProperty&#x3D;â€idâ€ å‘Šè¯‰Mybatiså°†ç”Ÿæˆçš„ä¸»é”®å€¼è®¾ç½®åˆ°ä¼ å…¥å¯¹è±¡çš„idå±æ€§ä¸­ã€‚useGeneratedKeys &#x3D; true åˆ™å¯ç”¨äº†è·å–ç”Ÿæˆçš„ä¸»é”®å€¼çš„åŠŸèƒ½</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Options(keyProperty=&quot;id&quot;,useGeneratedKeys = true)</span></span><br></pre></td></tr></table></figure>

<h3 id="æ›´æ–°"><a href="#æ›´æ–°" class="headerlink" title="æ›´æ–°"></a>æ›´æ–°</h3><p>ä½¿ç”¨Updateæ³¨è§£æ‰§è¡Œæ›´æ–°æ“ä½œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Update(&quot;update emp set username=#&#123;username&#125;, name=#&#123;name&#125;, gender=#&#123;gender&#125;, image=#&#123;image&#125;, job=#&#123;job&#125;,entrydate=#&#123;entrydate&#125;, dept_id=#&#123;deptId&#125;, update_time=#&#123;updateTime&#125; where id=#&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Emp emp)</span>;</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢</p>
<p>Selectæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from emp where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Emp <span class="title function_">getByld</span><span class="params">(integer id)</span>;</span><br></pre></td></tr></table></figure>

<p>å¤§åŠŸå‘Šæˆï¼Ÿ</p>
<p>å·®ä¸€ç‚¹ç‚¹ï¼Œè§‚å¯ŸæŸ¥è¯¢åˆ°çš„æ•°æ®ï¼Œå‘ç°å­˜åœ¨ç©ºé¡¹ï¼ˆcreateTime,updateTime,deptId)</p>
<p>å®ƒä»¬æœ‰ä¸€ä¸ªå…±åŒç‚¹ï¼Œå°±æ˜¯å®ä½“ç±»ä¸­çš„å±æ€§åä¸è¡¨ä¸­å­—æ®µåä¸ä¸€è‡´ï¼Œåœ¨è¡¨ä¸­å®ƒä»¬çš„å­—æ®µåä¸ºï¼š</p>
<p>ï¼ˆcreate_time,update_time,deptId)</p>
<p>åŸå› åœ¨äºMybatisçš„æ•°æ®å°è£…æœºåˆ¶</p>
<ul>
<li><p><strong>å®ä½“ç±»å±æ€§å</strong> å’Œ æ•°æ®åº“è¡¨æŸ¥è¯¢è¿”å›çš„<strong>å­—æ®µå</strong>ä¸€è‡´ï¼Œmybatisä¼šè‡ªåŠ¨å°è£…</p>
</li>
<li><p>å¦‚æœ<strong>å®ä½“ç±»å±æ€§å</strong> å’Œ æ•°æ®åº“è¡¨æŸ¥è¯¢è¿”å›çš„<strong>å­—æ®µå</strong>ä¸ä¸€è‡´ï¼Œä¸èƒ½è‡ªåŠ¨å°è£…</p>
</li>
</ul>
<p>ä¸‰ä¸ªè§£å†³åŠæ³•ï¼š</p>
<p>1.èµ·åˆ«å</p>
<p>sqlè¯­æ³•ï¼Œaså¯ä»¥çœç•¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dept_id <span class="keyword">AS</span> deptId</span><br><span class="line">create_time <span class="keyword">AS</span> createTime</span><br><span class="line">update_time <span class="keyword">AS</span> updateTime</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select id, username, password, name, gender, image, job, entrydate, dept_id deptId, create_time createTime, update_time updateTime from emp where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Emp <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></table></figure>

<p>2.ä½¿ç”¨æ³¨è§£æ‰‹åŠ¨æ·»åŠ æ˜ å°„</p>
<p><strong>Results&amp;Result</strong></p>
<p>åœ¨MyBatisä¸­ï¼ŒResultså’ŒResultæ³¨è§£ç”¨äºæ˜ å°„SQLæŸ¥è¯¢ç»“æœåˆ°Javaå¯¹è±¡çš„å±æ€§ã€‚è¿™åœ¨å¤„ç†å¤æ‚æŸ¥è¯¢æˆ–å½“æ•°æ®åº“åˆ—åä¸Javaå¯¹è±¡å±æ€§åä¸å®Œå…¨åŒ¹é…æ—¶éå¸¸æœ‰ç”¨</p>
<p>Resultsï¼šResultsæ³¨è§£æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œç”¨äºåŒ…å«å¤šä¸ª@Resultæ³¨è§£ã€‚å®ƒå®šä¹‰äº†ä¸€ç»„ç»“æœæ˜ å°„è§„åˆ™ï¼Œè¿™äº›è§„åˆ™å°†æ•°æ®åº“ä¸­çš„åˆ—æ˜ å°„åˆ°Javaå¯¹è±¡çš„å±æ€§</p>
<p>Resultï¼šResultæ³¨è§£ç”¨äºå®šä¹‰å•ä¸ªæ˜ å°„è§„åˆ™ï¼ŒæŒ‡å®šæ•°æ®åº“ä¸­çš„åˆ—åå’ŒJavaå¯¹è±¡çš„å±æ€§åä¹‹é—´çš„æ˜ å°„å…³ç³»ã€‚å®ƒé€šå¸¸åŒ…å«ä»¥ä¸‹å±æ€§ï¼š</p>
<ul>
<li>column: æ•°æ®åº“ä¸­çš„åˆ—å</li>
<li>property: Javaå¯¹è±¡çš„å±æ€§å</li>
<li>javaType: å±æ€§çš„Javaç±»å‹ï¼ˆå¯é€‰ï¼‰</li>
<li>jdbcType: å±æ€§çš„JDBCç±»å‹ï¼ˆå¯é€‰ï¼‰</li>
<li>id: æ ‡è®°è¿™ä¸ªæ˜ å°„æ˜¯å¦æ˜¯ç»“æœé›†çš„ä¸»é”®ï¼ˆå¯é€‰ï¼‰</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;SELECT * FROM emp WHERE id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="meta">@Results(&#123;</span></span><br><span class="line"><span class="meta">    @Result(column = &quot;dept_id&quot;, property = &quot;deptId&quot;),</span></span><br><span class="line"><span class="meta">    @Result(column = &quot;create_time&quot;, property = &quot;createTime&quot;),</span></span><br><span class="line"><span class="meta">    @Result(column = &quot;update_time&quot;, property = &quot;updateTime&quot;)</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br><span class="line"><span class="keyword">public</span> Emp <span class="title function_">getById</span><span class="params">(Integer id)</span>;</span><br></pre></td></tr></table></figure>

<p>3.å¼€å¯é©¼å³°å‘½å</p>
<p>é¡¹ç›®é…ç½®æ–‡ä»¶ä¸­æ‰“å¼€mybatisçš„é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„å¼€å…³</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis.configuration.map-underscore-to-camel-case</span>=<span class="string">true</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœå­—æ®µåä¸å±æ€§åç¬¦åˆé©¼å³°å‘½åè§„åˆ™ï¼Œmybatisä¼šè‡ªåŠ¨é€šè¿‡é©¼å³°å‘½åè§„åˆ™æ˜ å°„</p>
<p>æ¡ä»¶æŸ¥è¯¢</p>
<p>æ³¨æ„åœ¨â€™%#{}%â€™ä¼¼ä¹æ˜¯è¡Œä¸é€šçš„ï¼Œæ‰€ä»¥ä½¿ç”¨äº†â€™%${}%â€™ï¼Œæ‹¼æ¥å­—ç¬¦ä¸²çš„å½¢å¼åŠ¨æ€æ›¿æ¢sqlè¯­å¥çš„æŸ¥è¯¢å†…å®¹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from emp where name like &#x27;%$&#123;name&#125;%&#x27;and gender = #&#123;gender&#125; and &quot; +</span></span><br><span class="line"><span class="meta">&quot;entrydate between #&#123;begin&#125; and #&#123;end&#125; order by update_time desc &quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">list</span><span class="params">(String name, <span class="type">short</span> gender, localDate begin , LocalDate end)</span>;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯ä¸Šé¢ä¹Ÿæè¿‡ï¼Œ<code>$&#123;&#125;</code>å­˜åœ¨sqlæ³¨å…¥çš„é£é™©ï¼Œå› æ­¤è¿˜æœ‰ä¸€ç§æ–¹æ³•ï¼šä½¿ç”¨mysqlæä¾›çš„å‡½æ•°concat()</p>
<p>è¿™æ ·å°±å¯ä»¥æ‹¼æˆ%å¼ %</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> concat(<span class="string">&#x27;%&#x27;</span>,<span class="string">&#x27;å¼ &#x27;</span>,<span class="string">&#x27;%&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„ï¼Œå°†å¼ æ›¿æ¢ä¸º<code>#&#123;name&#125;</code>ï¼Œå°±å¯ä»¥å®ç°é¢„ç¼–è¯‘sqläº†</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from emp where name like concat(&#x27;%&#x27;,&#x27;#&#123;name&#125;&#x27;,&#x27;%&#x27;)and gender = #&#123;gender&#125; and &quot; +</span></span><br><span class="line"><span class="meta">&quot;entrydate between #&#123;begin&#125; and #&#123;end&#125; order by update_time desc &quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">list</span><span class="params">(String name, <span class="type">short</span> gender, localDate begin , LocalDate end)</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Paramæ³¨è§£</p>
<p>å½“æ–¹æ³•å‚æ•°ä¸­åŒ…å«å¤šä¸ªç›¸åŒç±»å‹çš„å‚æ•°æ—¶ï¼ŒMyBatisæ— æ³•åŒºåˆ†å®ƒä»¬ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨@Paramæ³¨è§£æ¥ä¸ºæ¯ä¸ªå‚æ•°å‘½åï¼Œç„¶ååœ¨SQLä¸­é€šè¿‡è¿™äº›åç§°æ¥å¼•ç”¨å‚æ•°ã€‚</p>
<p>åœ¨ä½¿ç”¨springBoot1.xç‰ˆæœ¬&#x2F;å•ç‹¬ä½¿ç”¨mybatisæ—¶ï¼Œéœ€è¦ä½¿ç”¨Paramæ³¨è§£æ ‡è®°å‡½æ•°çš„å½¢å‚ï¼Œå› ä¸ºç»è¿‡ç¼–è¯‘åçš„å­—èŠ‚ç æ–‡ä»¶ä¸ä¼šä¿ç•™å½¢å‚åï¼Œè€Œæ˜¯ç”¨var1ï¼Œvar2ï¼Œvar3â€¦â€¦ä»£æ›¿ï¼Œå½“sqlä¸­å«å¤šä¸ªå‚æ•°ï¼Œæ— æ³•æ­£ç¡®åˆ†é…å‚æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Select(&quot;select * from emp where name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;&#x27;) and gender = #&#123;gender&#125; and entry_date between #&#123;begin&#125; and #&#123;end&#125; order by update_time desc&quot;)</span></span><br><span class="line"><span class="keyword">public</span> List&lt;Emp&gt; <span class="title function_">list</span><span class="params">(</span></span><br><span class="line"><span class="params">    <span class="meta">@Param(&quot;name&quot;)</span> String name, </span></span><br><span class="line"><span class="params">    <span class="meta">@Param(&quot;gender&quot;)</span> Short gender,</span></span><br><span class="line"><span class="params">    <span class="meta">@Param(&quot;begin&quot;)</span> LocalDate begin, </span></span><br><span class="line"><span class="params">    <span class="meta">@Param(&quot;end&quot;)</span> LocalDate end)</span>;---</span><br></pre></td></tr></table></figure>
</blockquote>
<h2 id="XMLæ˜ å°„æ–‡ä»¶"><a href="#XMLæ˜ å°„æ–‡ä»¶" class="headerlink" title="XMLæ˜ å°„æ–‡ä»¶"></a>XMLæ˜ å°„æ–‡ä»¶</h2><p>åœ¨å­¦ä¹ ä¹‹å‰ï¼Œä¸å¦¨å…ˆå›æƒ³ä¸€ä¸‹Mybaitsçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿæ˜¯ç”¨æ¥ç®€åŒ–javaç¨‹åºä¸æ•°æ®åº“çš„äº¤äº’çš„ï¼Œä¸Šé¢ä½¿ç”¨äº†æ³¨è§£å°†javaä¸sqlè¯­å¥å…³è”èµ·æ¥ï¼Œå®é™…ä¸Šï¼ŒMybatisè¿˜æä¾›äº†å¦ä¸€ç§é…ç½®sqlè¯­å¥çš„æ–¹å¼â€”â€”XMLæ˜ å°„æ–‡ä»¶</p>
<h3 id="è§„èŒƒ"><a href="#è§„èŒƒ" class="headerlink" title="è§„èŒƒ"></a>è§„èŒƒ</h3><p>1.XMLæ˜ å°„æ–‡ä»¶çš„åç§°ä¸Mapperæ¥å£åç§°ä¸€è‡´ï¼Œå¹¶ä¸”å°†XMLæ˜ å°„æ–‡ä»¶å’ŒMapperæ¥å£æ”¾ç½®åœ¨ç›¸åŒåŒ…ä¸‹(åŒåŒ…åŒåï¼‰</p>
<p>2.XMLæ˜ å°„æ–‡ä»¶çš„namespaceå±æ€§ä¸ºMapperæ¥å£å…¨é™å®šåä¸€è‡´</p>
<p>3.XMLæ˜ å°„æ–‡ä»¶ä¸­sqlè¯­å¥çš„idä¸Mapperæ¥å£ä¸­çš„æ–¹æ³•åä¸€è‡´ï¼Œå¹¶ä¿æŒè¿”å›ç±»å‹ä¸€è‡´</p>
<p>åªè¦æ»¡è¶³è¿™ä¸‰ä¸ªè§„èŒƒï¼Œå†å®Œæˆsqlè¯­å¥å³å¯</p>
<h3 id="è¯¦ç»†è¿‡ç¨‹"><a href="#è¯¦ç»†è¿‡ç¨‹" class="headerlink" title="è¯¦ç»†è¿‡ç¨‹"></a>è¯¦ç»†è¿‡ç¨‹</h3><p>è§„èŒƒä¸€æ˜¯åˆ›å»ºæ˜ å°„æ–‡ä»¶æ—¶è¦æ»¡è¶³çš„</p>
<ul>
<li><p>ä¸Mapperæ¥å£åç§°ä¸€è‡´</p>
</li>
<li><p>æ”¾ç½®åœ¨Mapperæ¥å£åŒåŒ…ä¸‹</p>
</li>
<li><p>å®Œæˆxmlæ–‡ä»¶çš„é…ç½®ä¿¡æ¯</p>
</li>
</ul>
<p>ç”±äºé¡¹ç›®ä½¿ç”¨äº†mavenç»“æ„ï¼Œé…ç½®æ–‡ä»¶ç»Ÿä¸€éƒ½åº”è¯¥æ”¾åœ¨<em>resources</em>ç›®å½•ä¸‹ï¼Œå› æ­¤æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªä¸Mapperæ¥å£æ‰€å¤„ä½ç½®ç›¸åŒçš„ç»“æ„</p>
<p>åœ¨æ–‡ä»¶å¼€å¤´æ·»åŠ é…ç½®ä¿¡æ¯ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ideaä¸­ç›®å½•ä¸åŒ…çš„åˆ›å»ºå­˜åœ¨ä¸€ç‚¹åŒºåˆ«</p>
<p>com.demo.mapper</p>
<p>å¦‚æœæ˜¯åŒ…åï¼Œä¼šåˆ›å»ºä¸‰çº§æ–‡ä»¶å¤¹</p>
<p>å¦‚æœæ˜¯ç›®å½•åï¼Œä¼šåˆ›å»ºè¿™ä¸ªåå­—çš„ç›®å½•</p>
<p>ç›®å½•æƒ³åˆ›å»ºå¤šå±‚ï¼Œéœ€è¦ç”¨â€™&#39;</p>
<p>com\demo\mapper</p>
</blockquote>
<p>è§„èŒƒäºŒæ˜¯é…ç½®Mapperæ¥å£çš„ä½ç½®</p>
<ul>
<li>é…ç½®Mapperæ¥å£çš„å…¨é™å®šåï¼ˆç›¸å¯¹é¡¹ç›®ä½ç½®ï¼‰</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.demo.mapper.UserMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>è§„èŒƒä¸‰æ˜¯é…ç½®æ¥å£ä¸­çš„å¯¹åº”æ–¹æ³•</p>
<ul>
<li><p>é…ç½®æ–¹æ³•å</p>
</li>
<li><p>é…ç½®è¿”å›çš„ç±»å‹ï¼ˆå•æ¡è®°å½•æ‰€å°è£…çš„ç±»å‹ï¼‰</p>
</li>
</ul>
<p>æ¯”å¦‚è¿”å›ä¸€ä¸ªUserå¯¹è±¡çš„é›†åˆï¼Œé‚£å°±å¡«<code>resultType=&quot;User&quot;</code>ï¼Œä¸”Useréœ€è¦ç»™å‡ºå…¨ç±»å</p>
<p>è¿™ä¸ªæ–¹æ³•å¸Œæœ›æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥ï¼Œå› æ­¤ä½¿ç”¨<code>select</code>æ ‡ç­¾</p>
<p>æœ€ååœ¨æ ‡ç­¾å†…å®Œæˆsqlè¯­å¥å³å¯</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.demo.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    select * from mybatisdemo.emp;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="MybatisX"><a href="#MybatisX" class="headerlink" title="MybatisX"></a>MybatisX</h3><p>ideaæ’ä»¶ï¼Œç”¨äºå¿«é€Ÿå¼€å‘Mybatis</p>
<h3 id="XML-æ³¨è§£"><a href="#XML-æ³¨è§£" class="headerlink" title="XML&amp;æ³¨è§£"></a>XML&amp;æ³¨è§£</h3><p>æ³¨è§£åœ¨å¤„ç†ç®€å•sqlè¯­å¥æ—¶æ¯”è¾ƒç²¾ç‚¼ï¼Œé€‚åˆæ™®é€šçš„å¢åˆ æŸ¥æ”¹éœ€æ±‚</p>
<p>è€Œsqléœ€æ±‚å˜å¤æ‚æ—¶ï¼Œåœ¨javaé¡¹ç›®ä¸­å®Œæˆsqlè¯­å¥ä¼šä½¿å¾—ä»£ç è‡ƒè‚¿ï¼Œæ¨èä½¿ç”¨XML</p>
<h2 id="åŠ¨æ€SQL"><a href="#åŠ¨æ€SQL" class="headerlink" title="åŠ¨æ€SQL"></a>åŠ¨æ€SQL</h2><p>è™½ç„¶ç°åœ¨è°ƒç”¨æ–¹æ³•ä½¿ç”¨çš„sqlè¯­å¥æä¾›äº†ä¸€äº›å¯æ›¿æ¢çš„å‚æ•°ï¼Œä½†æ˜¯sqlè¯­å¥ç»“æ„æ˜¯å›ºå®šçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›å‚æ•°æ˜¯å¿…å¡«çš„</p>
<p>ç°åœ¨æœ‰ä¸€ä¸ªæŸ¥è¯¢éœ€æ±‚ï¼Œå¯è¾“å…¥ç”¨æˆ·çš„å„ç§ä¿¡æ¯æ¥æŸ¥è¯¢ç›¸å…³å†…å®¹ï¼Œè¿™æ ·ä¸€æ¥åŸå…ˆçš„sqlè¯­å¥å°±æ— æ³•ä½¿ç”¨äº†</p>
<p>ï¼Œéœ€è¦ä½¿ç”¨åŠ¨æ€SQLè§£å†³è¿™ä¸ªéœ€æ±‚</p>
<p>åŠ¨æ€SQLï¼š</p>
<p>éšç€ç”¨æˆ·çš„è¾“å…¥æˆ–å¤–éƒ¨æ¡ä»¶çš„å˜åŒ–è€Œå˜åŒ–çš„SQLè¯­å¥</p>
<h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><p>ç”¨äºåˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ã€‚ä½¿ç”¨testå±æ€§è¿›è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœæ¡ä»¶ä¸ºtrueï¼Œåˆ™æ‹¼æ¥SQL</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUser&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.mybatisdemo2.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    select * from mybatisdemo.emp where</span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;name != null&quot;</span>&gt;</span>  </span><br><span class="line">         name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;gender != null&quot;</span>&gt;</span>  </span><br><span class="line">         and gender = #&#123;gender&#125;  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span>  </span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span>  </span><br><span class="line">         and password = #&#123;password&#125;;  </span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯è¿™æ ·ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘æ²¡æœ‰æŸ¥è¯¢åå­—ï¼Œè€Œæ˜¯æŸ¥è¯¢æ€§åˆ«ä¸ºç”·çš„å‘˜å·¥ï¼Œæ­¤æ—¶sqlè¯­å¥å°±ä¼šå˜æˆ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> mybatisdemo.emp <span class="keyword">where</span> <span class="keyword">and</span> gender <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªwhere andè‚¯å®šæ˜¯ä¸å¯¹çš„ï¼Œå¦‚ä½•è§£å†³ï¼Ÿä½¿ç”¨Mybatisæä¾›çš„æ ‡ç­¾<code>&lt;where&gt;</code></p>
<h3 id="where"><a href="#where" class="headerlink" title="where"></a>where</h3><p><em>where</em>æ ‡ç­¾åªä¼šåœ¨å­å…ƒç´ æœ‰å†…å®¹çš„æƒ…å†µä¸‹æ‰æ’å…¥<em>where</em>å­å¥ï¼Œè€Œä¸”ä¼šè‡ªåŠ¨å»é™¤å­å¥çš„å¼€å¤´çš„ANDæˆ–OR</p>
<ul>
<li><p>åŠ¨æ€åˆ¤æ–­whereæ ‡ç­¾å†…éƒ¨çš„å­æ ‡ç­¾ifæ˜¯å¦æˆç«‹ï¼Œå¦‚æœéƒ½ä¸æˆç«‹ï¼Œä¸ç”Ÿæˆwhereå…³é”®å­—</p>
</li>
<li><p>è‡ªåŠ¨åˆ é™¤è¯­å¥å‰é¢çš„andå’Œor</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUser&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.mybatisdemo2.pojo.User&quot;</span>&gt;</span></span><br><span class="line">       select * from mybatisdemo.emp</span><br><span class="line">       <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;name != null&quot;</span>&gt;</span></span><br><span class="line">               name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)</span><br><span class="line">           <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;gender != null&quot;</span>&gt;</span></span><br><span class="line">               and gender = #&#123;gender&#125;</span><br><span class="line">           <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span></span><br><span class="line">              and password = #&#123;password&#125;;</span><br><span class="line">           <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="foreach"><a href="#foreach" class="headerlink" title="foreach"></a>foreach</h3><p>å®ƒå…è®¸ä½ è¿­ä»£ä¸€ä¸ªé›†åˆæˆ–æ•°ç»„ï¼Œå¹¶åœ¨SQLè¯­å¥ä¸­åŠ¨æ€åœ°æ’å…¥å…ƒç´ ã€‚è¿™åœ¨å¤„ç†æ‰¹é‡æ“ä½œï¼Œå¦‚æ‰¹é‡æ’å…¥ã€æ›´æ–°æˆ–æŸ¥è¯¢æ—¶ç‰¹åˆ«æœ‰ç”¨</p>
<p>sqlä¸­çš„æ‰¹é‡åˆ é™¤æ˜¯è¿™æ ·çš„</p>
<p><em>foreach</em>æ ‡ç­¾çš„ä¸€äº›å¸¸ç”¨å±æ€§ï¼š</p>
<ul>
<li>collection: æŒ‡å®šè¦éå†çš„é›†åˆæˆ–æ•°ç»„ã€‚è¿™æ˜¯å¿…éœ€çš„å±æ€§</li>
<li>item: è¡¨ç¤ºæ¯æ¬¡è¿­ä»£è·å–çš„å…ƒç´ ã€‚åœ¨é›†åˆæˆ–æ•°ç»„ä¸­ï¼Œå®ƒè¡¨ç¤ºå…¶ä¸­çš„å…ƒç´ ï¼›åœ¨Mapä¸­ï¼Œå®ƒè¡¨ç¤ºé”®å€¼å¯¹ä¸­çš„å€¼</li>
<li>index: è¡¨ç¤ºå½“å‰è¿­ä»£çš„ç´¢å¼•æˆ–é”®ã€‚åœ¨Listæˆ–æ•°ç»„ä¸­ï¼Œå®ƒæ˜¯å…ƒç´ çš„ç´¢å¼•ï¼›åœ¨Mapä¸­ï¼Œå®ƒæ˜¯é”®</li>
<li>separator: å®šä¹‰è¿­ä»£å…ƒç´ ä¹‹é—´çš„åˆ†éš”ç¬¦ï¼Œä¾‹å¦‚åœ¨INå­å¥ä¸­å¸¸ç”¨çš„é€—å·ã€‚</li>
<li>open: å®šä¹‰éå†å¼€å§‹æ—¶çš„å­—ç¬¦ï¼Œå¦‚ (</li>
<li>close: å®šä¹‰éå†ç»“æŸæ—¶çš„å­—ç¬¦ï¼Œå¦‚ )</li>
</ul>
<p>ä¾‹ï¼šä¼ å…¥ä¸€ä¸ªæºå¸¦å¤šä¸ªå‘˜å·¥idçš„é›†åˆï¼Œé€šè¿‡foreachæ ‡ç­¾éå†é›†åˆç»„åˆsqlè¯­å¥ï¼Œåˆ é™¤å¤šä¸ªå‘˜å·¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteMoreUser</span><span class="params">(List&lt;Integer&gt; usersId)</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteMoreUser&quot;</span>&gt;</span></span><br><span class="line">delete from mybatisdemo.emp where id in</span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;usersId&quot;</span> <span class="attr">item</span>=<span class="string">&quot;id&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span>&gt;</span></span><br><span class="line">        #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="sql-include"><a href="#sql-include" class="headerlink" title="sql&amp;include"></a>sql&amp;include</h3><p>æŠ½å–é‡å¤çš„sqlè¯­å¥ï¼Œæé«˜å¤ç”¨æ€§</p>
<p><em>sql</em>æ ‡ç­¾è¡¨ç¤ºæŠ½å–çš„sqlè¯­å¥ï¼Œéœ€è¦æºå¸¦å”¯ä¸€æ ‡è¯†<em>id</em></p>
<p><em>include</em>æ ‡ç­¾è¡¨ç¤ºæ·»åŠ æ ‡ç­¾ï¼Œé€šè¿‡<em>refid</em>æŒ‡å®šsql</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&#x27;empSelectAll&#x27;</span>&gt;</span></span><br><span class="line">    select * from mybatisdemo.emp;</span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;getAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.mybatisdemo2.pojo.User&quot;</span>&gt;</span>         </span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;empSelectAll&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;findUser&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.mybatisdemo2.pojo.User&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;empSelectAll&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;name != null&quot;</span>&gt;</span></span><br><span class="line">            name like concat(&#x27;%&#x27;,#&#123;name&#125;,&#x27;%&#x27;)</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;gender != null&quot;</span>&gt;</span></span><br><span class="line">            and gender = #&#123;gender&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;password != null&quot;</span>&gt;</span></span><br><span class="line">          and password = #&#123;password&#125;;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span>   </span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="Restful"><a href="#Restful" class="headerlink" title="Restful"></a>Restful</h3><p>RESTfulæ˜¯ä¸€ç§ç½‘ç»œåº”ç”¨ç¨‹åºçš„APIè®¾è®¡é£æ ¼ï¼Œå®ƒä»£è¡¨äº†â€œè¡¨ç°å±‚çŠ¶æ€è½¬æ¢â€ï¼ˆREpresentational State Transferï¼‰ã€‚è¿™ç§é£æ ¼åŸºäºHTTPåè®®ï¼Œä½¿ç”¨æ ‡å‡†çš„HTTPæ–¹æ³•å¦‚GETã€POSTã€PUTã€DELETEç­‰æ¥æ‰§è¡Œæ“ä½œï¼Œå¹¶é€šè¿‡URIï¼ˆç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦ï¼‰æ¥æŒ‡å‘ç½‘ç»œä¸Šçš„èµ„æº</p>
<p>å…¶æ ¼å¼ä¸ºï¼šURLå®šä½èµ„æºï¼ŒHTTPåŠ¨è¯æè¿°</p>
<p>ä¾‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost:8080/users/1/Get</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li><p>streamæµ</p>
</li>
<li><p>åå°„</p>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>Author: </span><span class="post-copyright-info"><a href="https://szymogu.github.io">Mogu</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>Link: </span><span class="post-copyright-info"><a href="https://szymogu.github.io/2025/07/12/JavaWeb_Mybatis/">https://szymogu.github.io/2025/07/12/JavaWeb_Mybatis/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/SpringBoot/">SpringBoot</a></div><div class="post_share"><div class="social-share" data-image="/pic/default_cover/582400.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/07/12/JavaWeb_%E7%AE%80%E5%8D%95demo/" title="JavaWeb_ç®€å•demo"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/67603.png" onerror="onerror=null;src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous</div><div class="prev_info">JavaWeb_ç®€å•demo</div></div></a></div><div class="next-post pull-right"><a href="/2025/07/12/JavaWeb_%E6%B5%85%E8%B0%88Spring%E7%89%B9%E6%80%A7/" title="JavaWeb_Springç‰¹æ€§"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/998880.png" onerror="onerror=null;src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="cover of next post"><div class="pagination-info"><div class="label">Next</div><div class="next_info">JavaWeb_Springç‰¹æ€§</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2025/07/10/JavaWeb_AOP/" title="JavaWeb_é¢å‘åˆ‡é¢ç¼–ç¨‹"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/824618.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-10</div><div class="title">JavaWeb_é¢å‘åˆ‡é¢ç¼–ç¨‹</div></div></a></div><div><a href="/2024/08/18/JavaWeb_Web%E5%90%8E%E7%AB%AF/" title="JavaWeb_Webå…¥é—¨"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/664698.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-08-18</div><div class="title">JavaWeb_Webå…¥é—¨</div></div></a></div><div><a href="/2025/07/08/JavaWeb_%E4%BA%8B%E7%89%A9/" title="JavaWeb_äº‹ç‰©"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/73157.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-08</div><div class="title">JavaWeb_äº‹ç‰©</div></div></a></div><div><a href="/2025/07/08/JavaWeb_%E5%BC%82%E5%B8%B8%E5%A4%84%E7%90%86/" title="JavaWeb_å¼‚å¸¸å¤„ç†"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/520815.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-08</div><div class="title">JavaWeb_å¼‚å¸¸å¤„ç†</div></div></a></div><div><a href="/2025/07/12/JavaWeb_%E6%B5%85%E8%B0%88Spring%E7%89%B9%E6%80%A7/" title="JavaWeb_Springç‰¹æ€§"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/998880.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-12</div><div class="title">JavaWeb_Springç‰¹æ€§</div></div></a></div><div><a href="/2025/07/08/JavaWeb_%E7%99%BB%E5%BD%95%E6%A0%A1%E9%AA%8C/" title="JavaWeb_ç™»å½•æ ¡éªŒ"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/939416.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2025-07-08</div><div class="title">JavaWeb_ç™»å½•æ ¡éªŒ</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/touxiang.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Mogu</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">56</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">42</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">17</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Szymogu"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">Iâ¤ï¸BlueArchiveï¼</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Contents</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Mybatis"><span class="toc-number">1.</span> <span class="toc-text">Mybatis</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B%EF%BC%81"><span class="toc-number">1.1.</span> <span class="toc-text">å¿«é€Ÿå¼€å§‹ï¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JDBC"><span class="toc-number">1.2.</span> <span class="toc-text">JDBC</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-number">1.2.1.</span> <span class="toc-text">æ•°æ®åº“è¿æ¥æ± </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#lombok%E5%B7%A5%E5%85%B7"><span class="toc-number">1.3.</span> <span class="toc-text">lombokå·¥å…·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="toc-number">1.4.</span> <span class="toc-text">åŸºç¡€æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%A0%E9%99%A4"><span class="toc-number">1.4.1.</span> <span class="toc-text">åˆ é™¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E"><span class="toc-number">1.4.2.</span> <span class="toc-text">æ–°å¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0"><span class="toc-number">1.4.3.</span> <span class="toc-text">æ›´æ–°</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML%E6%98%A0%E5%B0%84%E6%96%87%E4%BB%B6"><span class="toc-number">1.5.</span> <span class="toc-text">XMLæ˜ å°„æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%84%E8%8C%83"><span class="toc-number">1.5.1.</span> <span class="toc-text">è§„èŒƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%A6%E7%BB%86%E8%BF%87%E7%A8%8B"><span class="toc-number">1.5.2.</span> <span class="toc-text">è¯¦ç»†è¿‡ç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MybatisX"><span class="toc-number">1.5.3.</span> <span class="toc-text">MybatisX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XML-%E6%B3%A8%E8%A7%A3"><span class="toc-number">1.5.4.</span> <span class="toc-text">XML&amp;æ³¨è§£</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81SQL"><span class="toc-number">1.6.</span> <span class="toc-text">åŠ¨æ€SQL</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#if"><span class="toc-number">1.6.1.</span> <span class="toc-text">if</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#where"><span class="toc-number">1.6.2.</span> <span class="toc-text">where</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#foreach"><span class="toc-number">1.6.3.</span> <span class="toc-text">foreach</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sql-include"><span class="toc-number">1.6.4.</span> <span class="toc-text">sql&amp;include</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Restful"><span class="toc-number">1.6.5.</span> <span class="toc-text">Restful</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/08/04/Springboot%E5%AE%9E%E6%88%98-day8/" title="Springbootå®æˆ˜_day8"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/449110.png" onerror="this.onerror=null;this.src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="Springbootå®æˆ˜_day8"/></a><div class="content"><a class="title" href="/2025/08/04/Springboot%E5%AE%9E%E6%88%98-day8/" title="Springbootå®æˆ˜_day8">Springbootå®æˆ˜_day8</a><time datetime="2025-08-04T03:52:05.000Z" title="Created 2025-08-04 11:52:05">2025-08-04</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/08/01/Springboot%E5%AE%9E%E6%88%98_day7/" title="Springbootå®æˆ˜_day7"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/42676.png" onerror="this.onerror=null;this.src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="Springbootå®æˆ˜_day7"/></a><div class="content"><a class="title" href="/2025/08/01/Springboot%E5%AE%9E%E6%88%98_day7/" title="Springbootå®æˆ˜_day7">Springbootå®æˆ˜_day7</a><time datetime="2025-07-31T20:05:48.000Z" title="Created 2025-08-01 04:05:48">2025-08-01</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/30/Springboot%E5%AE%9E%E6%88%98_day6/" title="Springbootå®æˆ˜_day6"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/73157.png" onerror="this.onerror=null;this.src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="Springbootå®æˆ˜_day6"/></a><div class="content"><a class="title" href="/2025/07/30/Springboot%E5%AE%9E%E6%88%98_day6/" title="Springbootå®æˆ˜_day6">Springbootå®æˆ˜_day6</a><time datetime="2025-07-30T01:10:05.000Z" title="Created 2025-07-30 09:10:05">2025-07-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/29/Springboot%E5%AE%9E%E6%88%98_day5/" title="Springbootå®æˆ˜_day5"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/939416.png" onerror="this.onerror=null;this.src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="Springbootå®æˆ˜_day5"/></a><div class="content"><a class="title" href="/2025/07/29/Springboot%E5%AE%9E%E6%88%98_day5/" title="Springbootå®æˆ˜_day5">Springbootå®æˆ˜_day5</a><time datetime="2025-07-28T21:18:38.000Z" title="Created 2025-07-29 05:18:38">2025-07-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/07/28/Springboot%E5%AE%9E%E6%88%98_day3&amp;4/" title="Springbootå®æˆ˜_day3&amp;4"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/pic/default_cover/402295.png" onerror="this.onerror=null;this.src='https://i0.hdslb.com/bfs/static/laputa-search/assets/neterror.65668da4.png'" alt="Springbootå®æˆ˜_day3&amp;4"/></a><div class="content"><a class="title" href="/2025/07/28/Springboot%E5%AE%9E%E6%88%98_day3&amp;4/" title="Springbootå®æˆ˜_day3&amp;4">Springbootå®æˆ˜_day3&amp;4</a><time datetime="2025-07-27T16:16:53.000Z" title="Created 2025-07-28 00:16:53">2025-07-28</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Toggle Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between Single-column and Double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.8.8/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><div class="js-pjax"></div><div class="aplayer no-destroy" data-id="10187364968" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="false" mini = "true" order="random" data-theme="#87faac"> </div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener
  btf.removeGlobalFnEvent('pjax')
  btf.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>